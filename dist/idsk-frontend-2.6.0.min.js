!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,function(e){"use strict";function s(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t.call(window,e[i],i,e)}function u(e,t){null!==e&&(0<e.className.indexOf(t)?e.className=e.className.replace(" "+t,""):e.className+=" "+t)}function h(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t.call(window,e[i],i,e)}function n(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=t.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(e){var a,l,c,d;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,l=Object.prototype.hasOwnProperty("__defineGetter__"),c="Getters & setters cannot be defined on this javascript engine",d="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,i){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,i);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(i instanceof Object))throw new TypeError("Property description must be an object");var s=String(t),n="value"in i||"writable"in i,o="get"in i&&typeof i.get,r="set"in i&&typeof i.set;if(o){if("function"!==o)throw new TypeError("Getter must be a function");if(!l)throw new TypeError(c);if(n)throw new TypeError(d);Object.__defineGetter__.call(e,s,i.get)}else e[s]=i.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!l)throw new TypeError(c);if(n)throw new TypeError(d);Object.__defineSetter__.call(e,s,i.set)}return"value"in i&&(e[s]=i.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var i,e=Array,s=Object,n=s.prototype,o=e.prototype,r=function r(){},a=n.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Function.prototype.toString,d=function d(e){try{return c.call(e),!0}catch(t){return!1}};i=function i(e){if("function"!=typeof e)return!1;if(l)return d(e);var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var u=o.slice,h=o.concat,p=o.push,m=Math.max,f=this;if(!i(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var k,v=u.call(arguments,1),b=m(0,f.length-v.length),y=[],g=0;g<b;g++)p.call(y,"$"+g);return k=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof k){var e=f.apply(this,h.call(v,u.call(arguments)));return s(e)===e?e:this}return f.apply(t,h.call(v,u.call(arguments)))}),f.prototype&&(r.prototype=f.prototype,k.prototype=new r,r.prototype=null),k}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(s){var e,t,i;"DOMTokenList"in this&&(!("classList"in(e=document.createElement("x")))||!e.classList.toggle("x",!1)&&!e.className)||("DOMTokenList"in(t=this)&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(t.DOMTokenList=function(){var n=!0,i=function(e,t,i,s){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===n||!!s,get:i}):e.__defineGetter__(t,i)};try{i({},"support")}catch(e){n=!1}return function(n,o){var r=this,a=[],l={},c=0,e=0,t=function(e){i(r,e,function(){return u(),a[e]},!1)},d=function(){if(e<=c)for(;e<c;++e)t(e)},u=function(){var e,t,i=arguments,s=/\s+/;if(i.length)for(t=0;t<i.length;++t)if(s.test(i[t]))throw(e=new SyntaxError('String "'+i[t]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(a="object"==typeof n[o]?(""+n[o].baseVal).replace(/^\s+|\s+$/g,"").split(s):(""+n[o]).replace(/^\s+|\s+$/g,"").split(s))[0]&&(a=[]),l={},t=0;t<a.length;++t)l[a[t]]=!0;c=a.length,d()};return u(),i(r,"length",function(){return u(),c}),r.toLocaleString=r.toString=function(){return u(),a.join(" ")},r.item=function(e){return u(),a[e]},r.contains=function(e){return u(),!!l[e]},r.add=function(){u.apply(r,e=arguments);for(var e,t,i=0,s=e.length;i<s;++i)l[t=e[i]]||(a.push(t),l[t]=!0);c!==a.length&&(c=a.length>>>0,"object"==typeof n[o]?n[o].baseVal=a.join(" "):n[o]=a.join(" "),d())},r.remove=function(){u.apply(r,e=arguments);for(var e,t={},i=0,s=[];i<e.length;++i)t[e[i]]=!0,delete l[e[i]];for(i=0;i<a.length;++i)t[a[i]]||s.push(a[i]);c=(a=s).length>>>0,"object"==typeof n[o]?n[o].baseVal=a.join(" "):n[o]=a.join(" "),d()},r.toggle=function(e,t){return u.apply(r,[e]),s!==t?t?(r.add(e),!0):(r.remove(e),!1):l[e]?(r.remove(e),!1):(r.add(e),!0)},r}}()),"classList"in(i=document.createElement("span"))&&(i.classList.toggle("x",!1),i.classList.contains("x")&&(i.classList.constructor.prototype.toggle=function(e){var t=arguments[1];if(t!==s)return this[(t=!!t)?"add":"remove"](e),t;var i=!this.contains(e);return this[i?"add":"remove"](e),i})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var s=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,t=arguments.length,i=0;i<t;i++)s.call(this,e[i])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var s=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,t=arguments.length,i=0;i<t;i++)s.call(this,e[i])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),i=t.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=i.appendChild(i.createElement("*")),l={},c=function(e,t){var i,s,n,o=e.childNodes||[],r=-1;if(1===e.nodeType&&e.constructor!==Element)for(i in e.constructor=Element,l)s=l[i],e[i]=s;for(;n=t&&o[++r];)c(n,t);return e},d=document.getElementsByTagName("*"),s=document.createElement,n=100;a.attachEvent("onpropertychange",function(e){for(var t,i=e.propertyName,s=!l.hasOwnProperty(i),n=a[i],o=l[i],r=-1;t=d[++r];)1===t.nodeType&&(!s&&t[i]!==o||(t[i]=n));l[i]=n}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function(e){return null!==this.getAttribute(e)}),o()||(document.onreadystatechange=o,e=setInterval(o,25)),document.createElement=function(e){var t=s(String(e).toLowerCase());return c(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function o(){return n--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(c(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var d=!0,u=function(e,t,i,s){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===d||!!s,get:i}):e.__defineGetter__(t,i)};try{u({},"support")}catch(t){d=!1}var h=function(e,l,c){u(e.prototype,l,function(){var e,t=this,i="__defineGetter__DEFINE_PROPERTY"+l;if(t[i])return e;if(!(t[i]=!0)===d){for(var s,n=h.mirror||document.createElement("div"),o=n.childNodes,r=o.length,a=0;a<r;++a)if(o[a]._R===t){s=o[a];break}s=s||n.appendChild(document.createElement("div")),e=DOMTokenList.call(s,t,c)}else e=new DOMTokenList(t,c);return u(t,l,function(){return e}),delete t[i],e},!0)};h(e.Element,"classList","className"),h(e.HTMLElement,"classList","className"),h(e.HTMLLinkElement,"relList","rel"),h(e.HTMLAnchorElement,"relList","rel"),h(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),n.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},n.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$openAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},n.prototype.initSectionHeaders=function(){h(this.$sections,function(e,t){var i=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},n.prototype.initHeaderAttributes=function(t,e){var i=this,s=t.querySelector("."+this.sectionButtonClass),n=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.sectionHeaderFocusedClass)||(t.className+=" "+i.sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var c=document.createElement("span");c.className=this.iconClass,c.setAttribute("aria-hidden","true"),n.appendChild(c)},n.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},n.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();h(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},n.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)},n.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},n.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},n.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var t={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};n.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},n.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(o){!function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}}(this)&&function(){var i={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var e=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,t){if(!e)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var s=!(!t||t.bubbles===o)&&t.bubbles,n=!(!t||t.cancelable===o)&&t.cancelable;return i.initEvent(e,s,n),i}return(i=document.createEventObject()).type=e,i.bubbles=!(!t||t.bubbles===o)&&t.bubbles,i.cancelable=!(!t||t.cancelable===o)&&t.cancelable,i},e&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:e}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var r=this,e=arguments[0],t=arguments[1];if(r===window&&e in i)throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");r._events||(r._events={}),r._events[e]||(r._events[e]=function(e){var t,i=r._events[e.type].list,s=i.slice(),n=-1,o=s.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=r,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||r,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++n<o&&!e.cancelImmediate;)n in s&&-1!==a(i,t=s[n])&&"function"==typeof t&&t.call(r,e)},r._events[e].list=[],r.attachEvent&&r.attachEvent("on"+e,r._events[e])),r._events[e].list.push(t)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,i=arguments[0],s=arguments[1];t._events&&t._events[i]&&t._events[i].list&&-1!==(e=a(t._events[i].list,s))&&(t._events[i].list.splice(e,1),t._events[i].list.length||(t.detachEvent&&t.detachEvent("on"+i,t._events[i]),delete t._events[i]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,i=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var s=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+i,s)};this.attachEvent("on"+i,s)}this.fireEvent("on"+i,e)}catch(n){for(e.target=t;"_events"in(e.currentTarget=t)&&"function"==typeof t._events[i]&&t._events[i].call(t,e),"function"==typeof t["on"+i]&&t["on"+i].call(t,e),(t=9===t.nodeType?t.parentWindow:t.parentNode)&&!e.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}function a(e,t){for(var i=-1,s=e.length;++i<s;)if(i in e&&e[i]===t)return i;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function o(e){this.$module=e,this.debounceFormSubmitTimer=null}o.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},o.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},o.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};var r="boolean"==typeof document.createElement("details").open;function a(e){this.$module=e}function l(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count")}function c(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function d(e){this.$module=e}function p(e){this.$module=e}function m(e){this.$module=e}function f(e){this.$module=e,this.$tabs=e.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}a.prototype.handleInputs=function(e,i){e.addEventListener("keypress",function(e){var t=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===t.nodeName.toLowerCase()&&(e.preventDefault(),t.click?t.click():i(e))}),e.addEventListener("keyup",function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()}),e.addEventListener("click",i)},a.prototype.init=function(){var e=this.$module;if(e){var t=this.$summary=e.getElementsByTagName("summary").item(0),i=this.$content=e.getElementsByTagName("div").item(0);if(t&&i)i.id||(i.id="details-content-"+function s(){var i=(new Date).getTime();return"undefined"!=typeof window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)})}()),e.setAttribute("role","group"),t.setAttribute("role","button"),t.setAttribute("aria-controls",i.id),r||(t.tabIndex=0),!0==(null!==e.getAttribute("open"))?(t.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false")):(t.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),r||(i.style.display="none")),this.handleInputs(t,this.setAttributes.bind(this))}},a.prototype.setAttributes=function(){var e=this.$module,t=this.$summary,i=this.$content,s="true"===t.getAttribute("aria-expanded"),n="true"===i.getAttribute("aria-hidden");t.setAttribute("aria-expanded",s?"false":"true"),i.setAttribute("aria-hidden",n?"false":"true"),r||(i.style.display=s?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"));return!0},a.prototype.destroy=function(e){e.removeEventListener("keypress"),e.removeEventListener("keyup"),e.removeEventListener("click")},l.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},l.prototype.init=function(){var e=this.$module;if(this.$textarea){this.options=this.getDataset(e);var t=this.defaults.characterCountAttribute;if(this.options.maxwords&&(t=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(t),this.maxLength){var i=this.createCountMessage.bind(this);if(this.countMessage=i(),this.countMessage)e.removeAttribute("maxlength"),this.bindChangeEvents.bind(this)(),this.updateCountMessage.bind(this)()}}},l.prototype.getDataset=function(e){var t={},i=e.attributes;if(i)for(var s=0;s<i.length;s++){var n=i[s],o=n.name.match(/^data-(.+)/);o&&(t[o[1]]=n.value)}return t},l.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},l.prototype.createCountMessage=function(){var e=this.$textarea,t=e.id,i=document.getElementById(t+"-info");return t&&!i?(e.insertAdjacentHTML("afterend",'<span id="'+t+'-info" class="govuk-hint govuk-character-count__message" aria-live="polite"></span>'),this.describedBy=e.getAttribute("aria-describedby"),this.describedByInfo=this.describedBy+" "+t+"-info",e.setAttribute("aria-describedby",this.describedByInfo),i=document.getElementById(t+"-info")):e.insertAdjacentElement("afterend",i),i},l.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},l.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage.bind(this)())},l.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,i=this.countMessage,s=this.count(e.value),n=this.maxLength,o=n-s;s<n*(t.threshold?t.threshold:0)/100?(i.classList.add("govuk-character-count__message--disabled"),i.setAttribute("aria-hidden",!0)):(i.classList.remove("govuk-character-count__message--disabled"),i.removeAttribute("aria-hidden")),o<0?(e.classList.add("govuk-textarea--error"),i.classList.remove("govuk-hint"),i.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"));var r,a,l="character";t.maxwords&&(l="word"),l+=-1==o||1==o?"":"s",r=o<0?"too many":"remaining",a=Math.abs(o),i.innerHTML="You have "+a+" "+l+" "+r},l.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},l.prototype.handleBlur=function(){clearInterval(this.valueChecker)},c.prototype.init=function(){var i=this.$module;h(this.$inputs,function(e){var t=e.getAttribute("data-aria-controls");t&&i.querySelector("#"+t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"),this.setAttributes(e))}.bind(this)),i.addEventListener("click",this.handleClick.bind(this))},c.prototype.setAttributes=function(e){var t=e.checked;e.setAttribute("aria-expanded",t);var i=this.$module.querySelector("#"+e.getAttribute("aria-controls"));i&&i.classList.toggle("govuk-checkboxes__conditional--hidden",!t)},c.prototype.handleClick=function(e){var t=e.target,i="checkbox"===t.getAttribute("type"),s=t.getAttribute("aria-controls");i&&s&&this.setAttributes(t)},function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=0;t[i]&&t[i]!==this;)++i;return!!t[i]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),d.prototype.init=function(){var e=this.$module;e&&(e.focus(),e.addEventListener("click",this.handleClick.bind(this)))},d.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},d.prototype.focusTarget=function(e){if("A"!==e.tagName||!1===e.href)return!1;var t=this.getFragmentFromUrl(e.href),i=document.getElementById(t);if(!i)return!1;var s=this.getAssociatedLegendOrLabel(i);return!!s&&(s.scrollIntoView(),i.focus({preventScroll:!0}),!0)},d.prototype.getFragmentFromUrl=function(e){return-1!==e.indexOf("#")&&e.split("#").pop()},d.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var i=t.getElementsByTagName("legend");if(i.length)return i[0]}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},p.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".govuk-js-header-toggle");t&&t.addEventListener("click",this.handleClick.bind(this))}},p.prototype.toggleClass=function(e,t){0<e.className.indexOf(t)?e.className=e.className.replace(" "+t,""):e.className+=" "+t},p.prototype.handleClick=function(e){var t=this.$module,i=e.target||e.srcElement,s=t.querySelector("#"+i.getAttribute("aria-controls"));i&&s&&(this.toggleClass(s,"govuk-header__navigation--open"),this.toggleClass(i,"govuk-header__menu-button--open"),i.setAttribute("aria-expanded","true"!==i.getAttribute("aria-expanded")),s.setAttribute("aria-hidden","false"===s.getAttribute("aria-hidden")))},m.prototype.init=function(){var i=this.$module;h(i.querySelectorAll('input[type="radio"]'),function(e){var t=e.getAttribute("data-aria-controls");t&&i.querySelector("#"+t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"),this.setAttributes(e))}.bind(this)),i.addEventListener("click",this.handleClick.bind(this))},m.prototype.setAttributes=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var i=e.checked;e.setAttribute("aria-expanded",i),t.classList.toggle("govuk-radios__conditional--hidden",!i)}},m.prototype.handleClick=function(e){var i=e.target;"radio"===i.type&&h(document.querySelectorAll('input[type="radio"][aria-controls]'),function(e){var t=e.form===i.form;e.name===i.name&&t&&this.setAttributes(e)}.bind(this))},function(e){"Element"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return 1===e.nodeType?e:null}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return 1===e.nodeType?e:null}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),f.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},f.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},f.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},f.prototype.setup=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),s=e.querySelectorAll(".govuk-tabs__list-item");if(t&&i&&s){i.setAttribute("role","tablist"),h(s,function(e){e.setAttribute("role","presentation")}),h(t,function(e){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.boundTabKeydown=this.onTabKeydown.bind(this),e.addEventListener("click",e.boundTabClick,!0),e.addEventListener("keydown",e.boundTabKeydown,!0),this.hideTab(e)}.bind(this));var n=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(n),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},f.prototype.teardown=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),s=e.querySelectorAll(".govuk-tabs__list-item");t&&i&&s&&(i.removeAttribute("role"),h(s,function(e){e.removeAttribute("role","presentation")}),h(t,function(e){e.removeEventListener("click",e.boundTabClick,!0),e.removeEventListener("keydown",e.boundTabKeydown,!0),this.unsetAttributes(e)}.bind(this)),window.removeEventListener("hashchange",e.boundOnHashChange,!0))},f.prototype.onHashChange=function(e){var t=window.location.hash,i=this.getTab(t);if(i)if(this.changingHash)this.changingHash=!1;else{var s=this.getCurrentTab();this.hideTab(s),this.showTab(i),i.focus()}},f.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},f.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},f.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')},f.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var i=this.getPanel(e);i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",e.id),i.classList.add(this.jsHiddenClass)},f.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass)},f.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var t=e.target,i=this.getCurrentTab();this.hideTab(i),this.showTab(t),this.createHistoryEntry(t)},f.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),i=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=i},f.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},f.prototype.activateNextTab=function(){var e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;if(t)var i=t.querySelector(".govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))},f.prototype.activatePreviousTab=function(){var e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;if(t)var i=t.querySelector(".govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))},f.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},f.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},f.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},f.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1")},f.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0")},f.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},f.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)};function k(e){this.$module=e,this.debounceFormSubmitTimer=null}function v(e){this.$module=e}function b(e){this.$module=e}function y(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count")}function g(e){this.$module=e,this.$items=e.querySelectorAll(".idsk-crossroad-title")}function _(e){this.$module=e}function S(e){this.$module=e}function L(e){this.$module=e}function C(e){this.$module=e}function E(e){this.$module=e}function w(e){this.$module=e}function q(e){this.$module=e,this.$moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".idsk-stepper__section"),this.$links=e.querySelectorAll(".idsk-stepper__section-content .govuk-link"),this.$openAllButton="",this.$browserSupportsSessionStorage=i.checkForSessionStorage(),this.$controlsClass="idsk-stepper__controls",this.$openAllClass="idsk-stepper__open-all",this.$iconClass="idsk-stepper__icon",this.$sectionHeaderClass="idsk-stepper__section-header",this.$sectionHeaderFocusedClass="idsk-stepper__section-header--focused",this.$sectionHeadingClass="idsk-stepper__section-heading",this.$sectionSummaryClass="idsk-stepper__section-summary",this.$sectionButtonClass="idsk-stepper__section-button",this.$sectionExpandedClass="idsk-stepper__section--expanded"}k.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},k.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},k.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},v.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-feedback__question-bar #with-hint"),i=e.querySelector("#idsk-feedback__send-button"),s=e.querySelectorAll(".idsk-feedback__radio-button");if(s){var n=this;h(s,function(e){e.addEventListener("click",n.handleRadioButtonClick.bind(n))})}i&&i.addEventListener("click",this.handleSendButtonClick.bind(this)),t&&t.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))}},v.prototype.handleSendButtonClick=function(e){var t=this.$module.querySelector("#idsk-feedback__thanks");this.$module.querySelector("#idsk-feedback__content").classList.add("idsk-feedback--hidden"),t.classList.remove("idsk-feedback--hidden")},v.prototype.handleRadioButtonClick=function(e){var t=this.$module.querySelector("#idsk-feedback__question-bar");e.srcElement.classList.contains("idsk-feedback-textarea--show")?(t.classList.add("idsk-feedback--open"),t.classList.remove("idsk-feedback--invisible")):(t.classList.remove("idsk-feedback--open"),t.classList.add("idsk-feedback--invisible"))},v.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#with-hint"),i=this.$module.querySelector("#with-hint-info"),s=this.$module.querySelector("#idsk-feedback__send-button");setTimeout(function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1},300)},b.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-footer-extended-feedback-yes-button"),i=e.querySelector("#idsk-footer-extended-feedback-no-button"),s=e.querySelector("#idsk-footer-extended-error-button"),n=e.querySelector("#idsk-footer-extended-close-error-form-button"),o=e.querySelector("#idsk-footer-extended-close-help-form-button"),r=e.querySelector("#idsk-footer-extended-error-form #with-hint"),a=e.querySelector("#submit-button-error-form"),l=e.querySelector("#idsk-footer-extended-write-us-button"),c=e.querySelector("#footer-extended-up-button");t&&i&&s&&(t.addEventListener("click",this.handleYesButtonClick.bind(this)),i.addEventListener("click",this.handleNoButtonClick.bind(this)),s.addEventListener("click",this.handleErrorButtonClick.bind(this))),l&&l.addEventListener("click",this.handleErrorButtonClick.bind(this)),o&&o.addEventListener("click",this.handleCloseHelpFormButtonClick.bind(this)),n&&n.addEventListener("click",this.handleCloseErrorFormButtonClick.bind(this)),a&&a.addEventListener("click",this.handleSubmitButtonClick.bind(this)),r&&r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this)),null!=c&&window.addEventListener("scroll",this.scrollFunction.bind(this))}},b.prototype.handleSubmitButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),s=this.$module.querySelector("#idsk-footer-extended-info-question"),n=this.$module.querySelector("#idsk-footer-extended-heart"),o=this.$module.querySelector("#idsk-footer-extended-feedback");u(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),t.classList.remove("idsk-footer-extended-open"),i.classList.remove("idsk-footer-extended-open"),u(s,"idsk-footer-extended-heart"),u(n,"idsk-footer-extended-heart-visible"),u(o,"idsk-footer-extended-display-none")},b.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#with-hint"),i=this.$module.querySelector("#with-hint-info"),s=this.$module.querySelector("#submit-button-error-form");setTimeout(function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1},300)},b.prototype.handleYesButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),s=this.$module.querySelector("#idsk-footer-extended-info-question"),n=this.$module.querySelector("#idsk-footer-extended-heart");t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),u(s,"idsk-footer-extended-heart"),u(n,"idsk-footer-extended-heart-visible")},b.prototype.handleNoButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback");u(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),u(i,"idsk-footer-extended-display-none"),u(t,"idsk-footer-extended-display-hidden"),u(t,"idsk-footer-extended-open")},b.prototype.handleErrorButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-help-form"),s=this.$module.querySelector("#idsk-footer-extended-feedback");u(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),u(s,"idsk-footer-extended-display-none"),i.classList.add("idsk-footer-extended-display-hidden"),i.classList.remove("idsk-footer-extended-open"),u(t,"idsk-footer-extended-display-hidden"),u(t,"idsk-footer-extended-open")},b.prototype.handleCloseErrorFormButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback");u(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),u(i,"idsk-footer-extended-display-none"),u(t,"idsk-footer-extended-open"),u(t,"idsk-footer-extended-display-hidden")},b.prototype.handleCloseHelpFormButtonClick=function(){var e=this.$module.querySelector("#idsk-footer-extended-help-form"),t=this.$module.querySelector("#idsk-footer-extended-feedback");u(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),u(t,"idsk-footer-extended-display-none"),u(e,"idsk-footer-extended-open"),u(e,"idsk-footer-extended-display-hidden")},b.prototype.scrollFunction=function(){var e=this.$module.querySelector("#footer-extended-up-button");768<window.innerWidth&&(document.body.scrollTop>window.screen.height||document.documentElement.scrollTop>window.screen.height)?e.style.display="block":e.style.display="none"},y.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},y.prototype.init=function(){var e=this.$module;if(this.$textarea){this.options=this.getDataset(e);var t=this.defaults.characterCountAttribute;if(this.options.maxwords&&(t=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(t),this.maxLength){var i=this.createCountMessage.bind(this);if(this.countMessage=i(),this.countMessage)e.removeAttribute("maxlength"),this.bindChangeEvents.bind(this)(),this.updateCountMessage.bind(this)()}}},y.prototype.getDataset=function(e){var t={},i=e.attributes;if(i)for(var s=0;s<i.length;s++){var n=i[s],o=n.name.match(/^data-(.+)/);o&&(t[o[1]]=n.value)}return t},y.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},y.prototype.createCountMessage=function(){var e=this.$textarea,t=e.id,i=document.getElementById(t+"-info");return t&&!i?(e.insertAdjacentHTML("afterend",'<span id="'+t+'-info" class="govuk-hint govuk-character-count__message" aria-live="polite"></span>'),this.describedBy=e.getAttribute("aria-describedby"),this.describedByInfo=this.describedBy+" "+t+"-info",e.setAttribute("aria-describedby",this.describedByInfo),i=document.getElementById(t+"-info")):e.insertAdjacentElement("afterend",i),i},y.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},y.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage.bind(this)())},y.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,i=this.countMessage,s=this.count(e.value),n=this.maxLength,o=n-s;s<n*(t.threshold?t.threshold:0)/100?(i.classList.add("govuk-character-count__message--disabled"),i.setAttribute("aria-hidden",!0)):(i.classList.remove("govuk-character-count__message--disabled"),i.removeAttribute("aria-hidden")),o<0?(e.classList.add("govuk-textarea--error"),i.classList.remove("govuk-hint"),i.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"));var r="znak",a=o;t.maxwords&&(r="slov"),1<o&&o<5||-5<o&&o<-1?r+="y":1==o||-1==o||(r+="ov"),a=Math.abs(o),o<0?(a="-"+a,i.innerHTML="Prekročili ste maximálny počet znakov"):i.innerHTML="Zostáva Vám "+a+" "+r+" "},y.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},y.prototype.handleBlur=function(){clearInterval(this.valueChecker)},g.prototype.init=function(){var e=this.$module,t=this.$items,i=e.querySelector("#idsk-crossroad__uncollapse-button");e&&t&&(i&&i.addEventListener("click",this.handleShowItems.bind(this)),s(t,function(e){e.addEventListener("click",this.handleItemClick.bind(this))}.bind(this)))},g.prototype.handleItemClick=function(e){e.target.setAttribute("aria-current","true")},g.prototype.setAriaLabel=function(e){e.forEach(function(e){e.classList.contains("idsk-crossroad__arria-hidden")?(e.setAttribute("aria-hidden","true"),u(e,"idsk-crossroad__arria-hidden")):"true"==e.getAttribute("aria-hidden")&&(e.setAttribute("aria-hidden","false"),u(e,"idsk-crossroad__arria-hidden"))})},g.prototype.handleShowItems=function(e){var t=this.$module.querySelectorAll(".idsk-crossroad__item"),i=this.$module.querySelector("#idsk-crossroad__uncollapse-button"),s=this.$module.querySelector(".idsk-crossroad__uncollapse-div"),n=this.$module.querySelectorAll(".idsk-crossroad-title"),o=this.$module.querySelectorAll(".idsk-crossroad-subtitle");t.forEach(function(e){u(e,"idsk-crossroad__item--two-columns-show")}),this.setAriaLabel(n),this.setAriaLabel(o),i.innerHTML=i.textContent==i.dataset.line1?i.dataset.line2:i.dataset.line1,u(e.srcElement,"idsk-crossroad__colapse--button-show"),u(s,"idsk-crossroad__collapse--shadow"),u(s,"idsk-crossroad__collapse--arrow")},_.prototype.init=function(){var e=this.$module,t=e.querySelector("#idsk-customer-surveys__send-button"),i=e.querySelector("#idsk-customer-surveys__previous-button"),s=e.querySelector(".idsk-customer-surveys-text-area #first"),n=e.querySelector(".idsk-customer-surveys-text-area #second"),o=e.querySelector(".idsk-customer-surveys-text-area #third"),r=e.querySelector(".idsk-customer-surveys-text-area #fourth"),a=e.querySelector(".idsk-customer-survey__radio--work"),l=e.querySelector(".idsk-customer-survey__radio--private");e.sendButtonDisabled=new Array(7),e.textAreaMap=new Map,e&&(this.handleCounterOfSubtitles.call(this,7),this.enableNextButtonForAllSteps.call(this),a&&a.addEventListener("click",this.handleRadioButtonWorkClick.bind(this)),l&&l.addEventListener("click",this.handleRadioButtonPrivateClick.bind(this)),t&&t.addEventListener("click",this.handleNextButtonClick.bind(this)),i&&i.addEventListener("click",this.handlePreviousButtonClick.bind(this)),s&&(e.textAreaMap.set("first",1),s.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),n&&(e.textAreaMap.set("second",2),n.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),o&&(e.textAreaMap.set("third",4),o.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),r&&(e.textAreaMap.set("fourth",5),r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))))},_.prototype.enableNextButtonForAllSteps=function(e){for(var t=0;t<this.$module.sendButtonDisabled.length;t++)this.$module.sendButtonDisabled[t]=!1},_.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module,i=e.srcElement.id,s=t.querySelector("#"+i),n=t.querySelector("#"+i+"-info"),o=t.querySelector("#idsk-customer-surveys__send-button");setTimeout(function(){s.classList.contains("govuk-textarea--error")||n.classList.contains("govuk-error-message")?o.disabled=!0:(o.disabled=!1,t.sendButtonDisabled[t.textAreaMap.get(i)]=!1)},300)},_.prototype.handleCounterOfSubtitles=function(e){var t,i=this.$module.querySelectorAll(".idsk-customer-surveys--subtitle");for(t=0;t<e;t++)i[t].textContent=i[t].textContent.substring(3),i[t].innerHTML=t+1+". "+i[t].textContent},_.prototype.handleRadioButtonWorkClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work");this.$module.querySelector(".idsk-customer-survey__subtitle--work").classList.add("idsk-customer-surveys--subtitle"),t.classList.remove("idsk-customer-surveys--hidden"),this.handleCounterOfSubtitles.call(this,8)},_.prototype.clearTextArea=function(e){var t=e.querySelector(".govuk-textarea"),i=e.querySelector(".govuk-character-count__message");t.value="",t.classList.contains("govuk-textarea--error")&&(t.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"),i.innerHTML=e.dataset.lines)},_.prototype.handleRadioButtonPrivateClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work"),i=this.$module.querySelector(".idsk-customer-survey__subtitle--work");this.$module.querySelector("#idsk-customer-surveys__send-button").disabled=!1,i.classList.remove("idsk-customer-surveys--subtitle"),t.classList.add("idsk-customer-surveys--hidden"),this.clearTextArea.call(this,t),this.handleCounterOfSubtitles.call(this,7)},_.prototype.handlePreviousButtonClick=function(e){var t,i=this.$module,s=i.querySelectorAll(".idsk-customer-surveys__step"),n=i.querySelector("#idsk-customer-surveys__send-button"),o=i.querySelector("#idsk-customer-surveys__previous-button"),r=i.querySelectorAll(".idsk-button__start-icon"),a=i.querySelector(".idsk-customer-surveys__send-button");for(o.blur(),t=1;t<s.length-1;t++)if(o.textContent==o.dataset.line2&&s[1].classList.contains("idsk-customer-surveys--show")&&(o.innerHTML=o.dataset.line1,a.innerHTML=a.dataset.line1,u(r[0],"idsk-customer-surveys__icon--hidden"),o.onclick=function(){location.href="/"}),a.textContent.includes(a.dataset.line3)&&(a.innerHTML=a.dataset.line2,u(r[0],"idsk-customer-surveys__icon--hidden")),s[t].classList.contains("idsk-customer-surveys--show"))return n.disabled&&(i.sendButtonDisabled[t]=!0,n.disabled=!1),s[t].classList.remove("idsk-customer-surveys--show"),u(s[t],"idsk-customer-surveys--hidden"),u(s[t-1],"idsk-customer-surveys--hidden"),void s[t-1].classList.add("idsk-customer-surveys--show")},_.prototype.handleNextButtonClick=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-customer-surveys__step"),s=t.querySelector(".idsk-customer-surveys__buttons"),n=t.querySelector("#idsk-customer-surveys__send-button"),o=t.querySelector("#idsk-customer-surveys__previous-button"),r=t.querySelectorAll(".idsk-button__start-icon"),a=t.querySelector(".idsk-customer-surveys__send-button");if(n.blur(),a.textContent.includes(a.dataset.line1)){a.innerHTML=a.dataset.line2,u(r[0],"idsk-customer-surveys__icon--hidden"),this.handleRadioButtonPrivateClick.call(this);for(var l=t.querySelectorAll(".govuk-radios__input"),c=0;c<l.length;c++)l[c].checked=!1;var d=t.querySelectorAll(".idsk-customer-surveys-text-area");for(c=0;c<d.length;c++)this.clearTextArea.call(this,d[c]);this.enableNextButtonForAllSteps.call(this)}for(a.textContent.includes(a.dataset.line3)&&s.classList.add("idsk-customer-surveys--hidden"),c=0;c<i.length-1;c++)if(i[c].classList.contains("idsk-customer-surveys--show"))return t.sendButtonDisabled[c+1]?n.disabled=!0:n.disabled=!1,i[c].classList.remove("idsk-customer-surveys--show"),u(i[c],"idsk-customer-surveys--hidden"),u(i[c+1],"idsk-customer-surveys--hidden"),i[c+1].classList.add("idsk-customer-surveys--show"),4==c&&(a.innerHTML=a.dataset.line3,u(r[0],"idsk-customer-surveys__icon--hidden")),void(0==c&&(o.innerHTML=o.dataset.line2,o.onclick=function(){location.href="#"}))},S.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-header-extended__search");t&&h(t,function(e){e.addEventListener("change",this.handleSearchChange.bind(this)),e.dispatchEvent(new Event("change"))}.bind(this));var i=e.querySelectorAll(".idsk-header-extended__language-button");if(i)h(i,function(e){e.addEventListener("click",this.handleLanguageSwitcherClick.bind(this)),e.addEventListener("focus",this.handleLanguageSwitcherClick.bind(this))}.bind(this)),h(e.querySelectorAll(".idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link"),function(e){e.addEventListener("blur",this.checkBlurLanguageSwitcherClick.bind(this))}.bind(this));var s=e.querySelectorAll(".idsk-header-extended__link");s&&h(s,function(e){e.addEventListener("click",this.handleSubmenuClick.bind(this)),e.addEventListener("focus",this.handleSubmenuClick.bind(this))}.bind(this));var n=e.querySelector(".idsk-js-header-extended-side-menu"),o=e.querySelector(".idsk-header-extended__mobile-close");n&&o&&(n.addEventListener("click",this.showMobilMenu.bind(this)),o.addEventListener("click",this.hideMobilMenu.bind(this))),window.addEventListener("scroll",this.scrollFunction.bind(this)),e.boundCheckBlurMenuItemClick=this.checkBlurMenuItemClick.bind(this),e.boundCheckBlurLanguageSwitcherClick=this.checkBlurLanguageSwitcherClick.bind(this)}},S.prototype.handleSearchChange=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-header-extended__search").querySelector("label");t.value?i.classList.add("idsk-header-extended__search-input--focus"):i.classList.remove("idsk-header-extended__search-input--focus")},S.prototype.handleLanguageSwitcherClick=function(e){var t=e.target||e.srcElement;this.$activeSearch=t.closest(".idsk-header-extended__language"),u(this.$activeSearch,"idsk-header-extended__language--active"),document.addEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},S.prototype.checkBlurLanguageSwitcherClick=function(){this.$activeSearch.classList.remove("idsk-header-extended__language--active"),document.removeEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},S.prototype.handleSubmenuClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-header-extended__navigation-item"),i=this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active");0<i.length&&i[0].classList.remove("idsk-header-extended__navigation-item--active"),u(t,"idsk-header-extended__navigation-item--active"),document.addEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},S.prototype.checkBlurMenuItemClick=function(){this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active")[0].classList.remove("idsk-header-extended__navigation-item--active"),document.removeEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},S.prototype.showMobilMenu=function(e){this.$module.classList.add("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="hidden"},S.prototype.hideMobilMenu=function(e){this.$module.classList.remove("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="visible"},S.prototype.scrollFunction=function(){var e=this.$module;80<document.body.scrollTop||80<document.documentElement.scrollTop?e.classList.add("idsk-header-extended--shrink"):document.body.scrollTop<10&&document.documentElement.scrollTop<10&&e.classList.remove("idsk-header-extended--shrink")},L.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-in-page-navigation__link");if(t){this.$arrTitlesAndElems=[],t.forEach(function(e){var t={};t.el=document.getElementById(e.href.split("#")[1]),this.$arrTitlesAndElems.push(t),e.addEventListener("click",this.handleClickLink.bind(this))}.bind(this));var i=e.querySelector(".idsk-in-page-navigation__link-panel");i&&(e.boundCheckCloseClick=this.checkCloseClick.bind(this),e.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),i.addEventListener("click",e.boundHandleClickLinkPanel,!0),window.addEventListener("scroll",this.scrollFunction.bind(this)),this.$module.labelChanged=!1)}}},L.prototype.handleClickLink=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-in-page-navigation__link").href.split("#")[1],s=this.$module.getElementsByClassName("idsk-in-page-navigation__link-panel")[0].offsetHeight;setTimeout(function(){null!=document.getElementById(i)?(this.$module.labelChanged=!0,this.changeCurrentLink(t),window.scrollTo(0,document.getElementById(i).offsetTop-2.5*s)):this.changeCurrentLink(t)}.bind(this),10)},L.prototype.handleClickLinkPanel=function(e){var t=this.$module,i=t.querySelector(".idsk-in-page-navigation__link-panel");t.classList.add("idsk-in-page-navigation--expand"),i.removeEventListener("click",t.boundHandleClickLinkPanel,!0),document.addEventListener("click",t.boundCheckCloseClick,!0)},L.prototype.checkCloseClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-in-page-navigation__list"),i=this.$module,s=i.querySelector(".idsk-in-page-navigation__link-panel");null==t&&(e.stopPropagation(),i.classList.remove("idsk-in-page-navigation--expand"),s.addEventListener("click",i.boundHandleClickLinkPanel,!0),document.removeEventListener("click",i.boundCheckCloseClick,!0))},L.prototype.scrollFunction=function(){var e=this.$module,t=this.$arrTitlesAndElems,i=e.parentElement.offsetTop-55,s=e.querySelectorAll(".idsk-in-page-navigation__list-item");if(window.pageYOffset<=i?e.classList.remove("idsk-in-page-navigation--sticky"):e.classList.add("idsk-in-page-navigation--sticky"),this.$module.labelChanged)this.$module.labelChanged=!1;else if(e.classList.contains("idsk-in-page-navigation--sticky")){var n=this;t.some(function(e,t){if(e.el.offsetTop>=window.scrollY&&e.el.offsetTop<=window.scrollY+window.innerHeight)return n.changeCurrentLink(s[t]),!0})}else this.changeCurrentLink(s[0])},L.prototype.changeCurrentLink=function(e){var t=this.$module,i=e.closest(".idsk-in-page-navigation__list-item"),s=i.querySelector(".idsk-in-page-navigation__link-title"),n=t.querySelectorAll(".idsk-in-page-navigation__list-item"),o=t.querySelector(".idsk-in-page-navigation__link-panel-button");n.forEach(function(e){e.classList.remove("idsk-in-page-navigation__list-item--active")}),i.classList.add("idsk-in-page-navigation__list-item--active"),o.innerText=s.innerText},C.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-component__input");t&&t.forEach(function(e){e.addEventListener("change",this.handleSearchInput.bind(this))}.bind(this))}},C.prototype.handleSearchInput=function(e){var t=e.target||e.srcElement||e,i=t.closest(".idsk-search-component").querySelector("label");""==t.value?i.classList.remove("govuk-visually-hidden"):i.classList.add("govuk-visually-hidden")},E.prototype.init=function(){if(this.$module){var t=this.$module;if(t.resultCards=new Array,t.countOfCardsPerPage=new Number,t.currentPageNumber=new Number,t.subTopicButton=t.querySelector(".idsk-search-results__subtopic"),t.subTopicButton&&(t.subTopicButton.disabled=!0),t.querySelectorAll(".idsk-search-results__link")){var e=t.querySelector(".idsk-search-results__content .govuk-select");if(e){var i=t.querySelector(".idsk-search-results__button--back");if(i){var s=t.querySelector(".idsk-search-results__button--forward");if(s){var n=t.querySelector(".idsk-search-results__button--back__mobile");if(i){var o=t.querySelector(".idsk-search-results__button--forward__mobile");if(s&&(t.resultCards=t.querySelectorAll(".idsk-search-results__card"),t.resultCards)){var r=t.querySelectorAll(".idsk-search-results__link-panel-button");if(r){var a=t.querySelector(".idsk-search-results__filters__button");if(a){var l=t.querySelector(".idsk-search-results__button--turn-filters-off");if(l){var c=t.querySelector(".idsk-search-results__button-show-results");if(c){var d=t.querySelector(".idsk-search-results__button--back-to-results");if(d){var u=t.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(u){var h=t.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");if(h){var p=t.querySelector("#datum-od"),m=t.querySelector("#datum-do"),f=t.querySelector("#idsk-search-input__topic");f&&f.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var k=t.querySelector("#idsk-search-input__subtopic");k&&k.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var v=t.querySelector("#idsk-search-input__content-type");v&&v.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes")),p&&(p.addEventListener("focusout",this.handleFillDate.bind(this,"from")),""!=p.value&&this.handleFillDate.call(this,"from",p),m.addEventListener("focusout",this.handleFillDate.bind(this,"to")),""!=m.value&&this.handleFillDate.call(this,"to",m)),i.addEventListener("click",this.handleClickPreviousPage.bind(this)),s.addEventListener("click",this.handleClickNextPage.bind(this)),n.addEventListener("click",this.handleClickPreviousPage.bind(this)),o.addEventListener("click",this.handleClickNextPage.bind(this)),a.addEventListener("click",this.handleClickFiltersButton.bind(this)),l.addEventListener("click",this.handleClickTurnFiltersOffButton.bind(this)),c.addEventListener("click",this.handleClickShowResultsButton.bind(this)),d.addEventListener("click",this.handleClickShowResultsButton.bind(this)),t.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),t.countOfCardsPerPage=e.value,t.currentPageNumber=1,this.showResultCardsPerPage.call(this,0,e.value),e.addEventListener("change",this.handleClickResultsPerPageDropdown.bind(this)),a.innerText=a.title+"(0)",r.forEach(function(e){e.addEventListener("click",t.boundHandleClickLinkPanel,!0)}.bind(this)),u.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0),e.checked&&this.handleClickRadioButton.call(this,e)}.bind(this)),h.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0),e.checked&&this.handleClickContentTypeCheckBox.call(this,e)}.bind(this)),this.handleClickFiltersButton.call(this),this.handleClickShowResultsButton.call(this)}}}}}}}}}}}}}}},E.prototype.handleClickShowResultsButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),c=t.querySelector(".idsk-search-results__content__page-changer"),d=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),m=t.querySelector(".idsk-search-results__content"),f=t.querySelector(".idsk-search-results__title"),k=document.getElementsByTagName("header"),v=document.getElementsByTagName("footer"),b=document.getElementsByClassName("govuk-breadcrumbs");f.classList.remove("idsk-search-results--invisible__mobile"),m.classList.remove("idsk-search-results--invisible__mobile"),p.classList.add("idsk-search-results--invisible"),h.classList.add("idsk-search-results--invisible__mobile"),i.classList.remove("idsk-search-results--visible"),u.classList.remove("idsk-search-results--visible__mobile--inline"),d.classList.remove("idsk-search-results--invisible__mobile"),l.classList.remove("idsk-search-results--invisible"),c.classList.remove("idsk-search-results--invisible__mobile"),s.classList.remove("idsk-search-results--invisible__mobile"),n&&n.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible__mobile"),r.classList.remove("idsk-search-results--invisible__mobile"),a.classList.remove("idsk-search-results--invisible"),k[0]&&v[0]&&b[0]&&(k[0].classList.remove("idsk-search-results--invisible__mobile"),v[0].classList.remove("idsk-search-results--invisible__mobile"),b[0].classList.remove("idsk-search-results--invisible__mobile"))},E.prototype.handleSomeFilterPicked=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=0<s.length||0<n.length||0<o.length;return r?i.classList.remove("idsk-search-results--invisible__mobile"):i.classList.add("idsk-search-results--invisible__mobile"),r},E.prototype.handleCountForFiltersButton=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-search-results__picked-topic"),s=t.querySelectorAll(".idsk-search-results__picked-content-type"),n=t.querySelectorAll(".idsk-search-results__picked-date"),o=t.querySelector(".idsk-search-results__filters__button"),r=i.length+s.length+n.length;o.innerText=o.title+"("+r+")"},E.prototype.handleClickTurnFiltersOffButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=t.querySelector(".idsk-search-results__filters__button");i.classList.add("idsk-search-results--invisible__mobile"),r.innerText=r.title+"(0)",s.forEach(function(e){this.handleRemovePickedTopic.call(this,e)}.bind(this)),n.forEach(function(e){this.handleRemovePickedContentType.call(this,e)}.bind(this)),o.forEach(function(e){this.handleRemovePickedDate.call(this,e)}.bind(this))},E.prototype.handleClickFiltersButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),c=t.querySelector(".idsk-search-results__content__page-changer"),d=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),m=t.querySelector(".idsk-search-results__title"),f=document.getElementsByTagName("header"),k=document.getElementsByTagName("footer"),v=document.getElementsByClassName("govuk-breadcrumbs");this.handleSomeFilterPicked.call(this)&&(p.classList.remove("idsk-search-results--invisible"),h.classList.remove("idsk-search-results--invisible__mobile")),m.classList.add("idsk-search-results--invisible__mobile"),i.classList.add("idsk-search-results--visible"),u.classList.add("idsk-search-results--visible__mobile--inline"),d.classList.add("idsk-search-results--invisible__mobile"),l.classList.add("idsk-search-results--invisible"),c.classList.add("idsk-search-results--invisible__mobile"),s.classList.add("idsk-search-results--invisible__mobile"),n&&n.classList.add("idsk-search-results--invisible__mobile"),o.classList.add("idsk-search-results--invisible__mobile"),r.classList.add("idsk-search-results--invisible__mobile"),f[0]&&k[0]&&v[0]&&(f[0].classList.add("idsk-search-results--invisible__mobile"),k[0].classList.add("idsk-search-results--invisible__mobile"),v[0].classList.add("idsk-search-results--invisible__mobile")),a.classList.add("idsk-search-results--invisible")},E.prototype.handleClickPreviousPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber-1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},E.prototype.handleClickNextPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber+1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},E.prototype.handleClickResultsPerPageDropdown=function(e){var t=e.target||e.srcElement;this.$module.countOfCardsPerPage=t.value,this.showResultCardsPerPage.call(this,0,t.value)},E.prototype.handleSearchItemsFromInput=function(t,e){var i=e.target||e.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+t+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(e){e.querySelector(".govuk-"+t+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||e.classList.add("idsk-search-results--invisible")}.bind(this))},E.prototype.handleFillDate=function(e,t){var i=t.target||t.srcElement||t,s=this.$module,n=s.querySelector(".idsk-search-results__content__picked-filters__date"),o=n.querySelector('[data-source="'+i.id+'"]'),r=s.querySelector(".idsk-search-results__content");if(""!=i.value&&(i.value.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/)||i.value.match(/^(\d{4})$/))){if(i.value&&!o)var a=this.createTopicInContainer.call(this,n,i.id,"idsk-search-results__picked-date",i,"datum-od"==i.id);else o&&((a=o).innerHTML=i.value+" &#10005;");r.classList.remove("idsk-search-results--invisible__mobile"),a.addEventListener("click",this.handleRemovePickedDate.bind(this)),i.value="",n.classList.remove("idsk-search-results--invisible"),this.checkValuesInDateContainer.call(this),this.changeBackgroundForPickedFilters.call(this)}},E.prototype.handleRemovePickedDate=function(e){(e.target||e.srcElement||e).remove(),this.handleSomeFilterPicked.call(this),this.checkValuesInDateContainer.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},E.prototype.createSpanElement=function(e,t){var i=document.createElement("span");return i.setAttribute("class",e),i.innerHTML=t,i},E.prototype.checkValuesInDateContainer=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters__date"),i="idsk-search-results__before-date",s="idsk-search-results__after-date",n=t.querySelector("."+i),o=t.querySelector("."+s);if(n&&n.remove(),o&&o.remove(),t.querySelector('[data-source="datum-od"]')||t.querySelector('[data-source="datum-do"]')){if(t.querySelector('[data-source="datum-od"]')&&t.querySelector('[data-source="datum-do"]')){n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.middle),o=this.createSpanElement.call(this,s,"a ");t.insertBefore(n,t.querySelector('[data-source="datum-od"]')),t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))}else if(t.querySelector('[data-source="datum-od"]')){n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.after);t.insertBefore(n,t.querySelector('[data-source="datum-od"]'))}else if(t.querySelector('[data-source="datum-do"]')){o=this.createSpanElement.call(this,s,t.dataset.lines+" "+t.dataset.before);t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))}}else t.classList.add("idsk-search-results--invisible")},E.prototype.showResultCardsPerPage=function(e,t){var i,s=this.$module,n=s.querySelector(".idsk-search-results__button--back"),o=s.querySelector(".idsk-search-results__button--forward"),r=(s.querySelector(".idsk-search-results__page-number"),s.querySelector(".idsk-search-results__button--back__mobile")),a=s.querySelector(".idsk-search-results__button--forward__mobile"),l=s.querySelector(".idsk-search-results__page-number__mobile");for(s.resultCards.forEach(function(e){e.classList.contains("idsk-search-results--invisible")||e.classList.add("idsk-search-results--invisible")}.bind(this)),t>=s.resultCards.length?(t=s.resultCards.length,o.classList.add("idsk-search-results--hidden"),n.classList.remove("idsk-search-results--hidden"),a.classList.add("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):(o.classList.remove("idsk-search-results--hidden"),a.classList.remove("idsk-search-results--hidden")),e<0?e=0:0<e?(n.classList.remove("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):0==e&&(s.currentPageNumber=1),i=e;i<t;i++)s.resultCards[i].classList.remove("idsk-search-results--invisible");0!=e||n.classList.contains("idsk-search-results--hidden")||(n.classList.add("idsk-search-results--hidden"),r.classList.add("idsk-search-results--hidden"));var c=1+(s.resultCards.length/s.countOfCardsPerPage|0),d=s.querySelector(".idsk-search-results__page-number span"),u=d.dataset.lines.replace("$value1",s.currentPageNumber).replace("$value2",c);d.innerText=u,l.innerText=u},E.prototype.handleClickLinkPanel=function(e){var t=(e.target||e.srcElement).closest(".idsk-search-results__link-panel");u(t.querySelector(".idsk-search-results__list"),"idsk-search-results--hidden"),u(t,"idsk-search-results--expand")},E.prototype.handleClickRadioButton=function(e){var t=e.target||e.srcElement||e,i=this.$module,s=t.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span"),n=i.querySelector(".idsk-search-results__content__picked-filters__topics"),o=t.closest(".govuk-radios"),r=n.querySelector('[data-source="'+o.dataset.id+'"]'),a="idsk-search-results__picked-topic",l=i.querySelector(".idsk-search-results__content");if(t.value&&!r){var c=this.createTopicInContainer.call(this,n,o.dataset.id,a,t,!1);i.subTopicButton&&(i.subTopicButton.disabled=!1)}else if(r.dataset.source==o.dataset.id)(c=r).innerHTML=t.value+" &#10005;";else if(r.dataset.source!=o.dataset.id)c=this.createTopicInContainer.call(this,n,o.dataset.id,a,t,!1);l.classList.remove("idsk-search-results--invisible__mobile"),n.classList.remove("idsk-search-results--invisible"),c.removeEventListener("click",this.handleRemovePickedTopic.bind(this),!0),c.addEventListener("click",this.handleRemovePickedTopic.bind(this)),this.changeBackgroundForPickedFilters.call(this),s.innerText="1 "+s.dataset.lines},E.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement||e,i=this.$module,s=t.closest(".idsk-search-results__link-panel"),n=i.querySelector(".idsk-search-results__content__picked-filters__content-type"),o=t.closest(".govuk-checkboxes"),r=i.querySelector(".idsk-search-results__content");t.checked?this.createTopicInContainer.call(this,n,t.id,"idsk-search-results__picked-content-type",t,!1).addEventListener("click",this.handleRemovePickedContentType.bind(this)):i.querySelector('[data-source="'+t.id+'"]').remove();r.classList.remove("idsk-search-results--invisible__mobile"),n.classList.remove("idsk-search-results--invisible"),this.handleCountOfPickedContentTypes.call(this,o,s),this.changeBackgroundForPickedFilters.call(this)},E.prototype.handleRemovePickedContentType=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content-type-filter .govuk-checkboxes"),s=i.querySelector("#"+t.dataset.source),n=i.closest(".idsk-search-results__link-panel");s.checked=!1,t.remove(),this.handleSomeFilterPicked.call(this),this.handleCountOfPickedContentTypes.call(this,i,n),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},E.prototype.handleCountOfPickedContentTypes=function(e,t){var i=this.$module.querySelector(".idsk-search-results__content__picked-filters__content-type"),s=t.querySelector(".idsk-search-results__link-panel--span"),n=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(n+=1)}.bind(this)),0==n?(s.innerText="",i.classList.add("idsk-search-results--invisible")):s.innerText=n+" "+s.dataset.lines},E.prototype.createTopicInContainer=function(e,t,i,s,n){var o=this.$module.querySelector(".idsk-search-results__show-results__button"),r=this.$module.querySelector(".idsk-search-results__button--turn-filters-off"),a=this.$module.querySelector(".idsk-search-results__content__picked-filters"),l=document.createElement("button");return l.setAttribute("class",i),l.setAttribute("tabindex","0"),l.setAttribute("data-source",t),l.setAttribute("data-id",s.id),l.innerHTML=s.value+" &#10005;",n?e.prepend(l):e.appendChild(l),a.classList.remove("idsk-search-results--invisible"),a.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible"),r.classList.remove("idsk-search-results--invisible"),this.handleCountForFiltersButton.call(this),l},E.prototype.changeBackgroundForPickedFilters=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters").querySelectorAll("div:not(.idsk-search-results--invisible)");if(0!=t.length){var i;for(t.forEach(function(e){e.classList.remove("idsk-search-results--grey"),e.classList.remove("idsk-search-results--border")}.bind(this)),i=0;i<t.length;i++)0!=i&&2!=i||t[i].classList.add("idsk-search-results--grey");t[t.length-1].classList.add("idsk-search-results--border")}},E.prototype.disableSubtopic=function(e){var t=this.$module.subTopicButton.parentElement.querySelector(".idsk-search-results__list");this.$module.subTopicButton.parentElement.classList.remove("idsk-search-results--expand"),t.classList.add("idsk-search-results--hidden"),this.$module.subTopicButton&&(this.$module.subTopicButton.disabled=!0)},E.prototype.handleRemovePickedTopic=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content__picked-filters__topics");if("tema"==t.dataset.source){var s=i.querySelector('[data-source="podtema"]');s?this.removeTopic.call(this,s,!0):this.$module.subTopicButton&&this.disableSubtopic.call(this),i.classList.add("idsk-search-results--invisible")}this.removeTopic.call(this,t,!1)},E.prototype.removeTopic=function(e,t){var i=this.$module.querySelector('[data-id="'+e.dataset.source+'"]');i.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="",i.querySelectorAll(".govuk-radios__input").forEach(function(e){e.checked=!1}.bind(this)),t&&this.$module.subTopicButton&&this.disableSubtopic.call(this),e.remove(),this.handleSomeFilterPicked.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},w.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-results__link-panel-button");if(t){var i=e.querySelector("#idsk-search-input__topic");i&&i.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var s=e.querySelector("#idsk-search-input__subtopic");s&&s.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var n=e.querySelector("#idsk-search-input__content-type");n&&n.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes"));var o=e.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(o){var r=e.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");r&&(o.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0)}.bind(this)),r.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0)}.bind(this)),t.forEach(function(e){e.addEventListener("click",this.handleClickLinkPanel.bind(this))}.bind(this)))}}}},w.prototype.handleClickRadioButton=function(e){(e.target||e.srcElement).closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="1 vybraté"},w.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-search-results__link-panel"),s=t.closest(".govuk-checkboxes");this.handleCountOfPickedContentTypes.call(this,s,i)},w.prototype.handleCountOfPickedContentTypes=function(e,t){var i=t.querySelector(".idsk-search-results__link-panel--span"),s=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(s+=1)}.bind(this)),i.innerText=0==s?"":s+" vybraté"},w.prototype.handleSearchItemsFromInput=function(t,e){var i=e.target||e.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+t+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(e){e.querySelector(".govuk-"+t+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||e.classList.add("idsk-search-results--invisible")}.bind(this))},w.prototype.handleClickLinkPanel=function(e){var t=(e.target||e.srcElement).closest(".idsk-search-results__link-panel");u(t.querySelector(".idsk-search-results__list"),"idsk-search-results--hidden"),u(t,"idsk-search-results--expand")},q.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders(),s(this.$links,function(e){e.addEventListener("click",this.handleItemLink.bind(this)),e.addEventListener("blur",this.handleItemLinkBlur.bind(this))}.bind(this));var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},q.prototype.initControls=function(){var e=this.$module.querySelector(".idsk-stepper__controls");this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML=e.dataset.line1+' <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.$openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button"),e.appendChild(this.$openAllButton),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},q.prototype.initSectionHeaders=function(){s(this.$sections,function(e,t){var i=e.querySelector("."+this.$sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},q.prototype.handleItemLink=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.add("idsk-stepper__bolder-line")},q.prototype.handleItemLinkBlur=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.remove("idsk-stepper__bolder-line")},q.prototype.initHeaderAttributes=function(t,e){var i=this.$module,s=t.querySelector("."+this.$sectionButtonClass),n=t.querySelector("."+this.$sectionHeadingClass),o=t.querySelector("."+this.$sectionSummaryClass);if(s){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.$moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.$moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.$sectionHeaderFocusedClass)||(t.className+=" "+i.$sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.$sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.$moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var c=document.createElement("span");c.className=this.$iconClass,c.setAttribute("aria-hidden","true"),n.appendChild(c)}},q.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},q.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();s(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},q.prototype.setExpanded=function(e,t){var i=t.querySelector("."+this.$sectionButtonClass);if(i){i.setAttribute("aria-expanded",e),e?t.classList.add(this.$sectionExpandedClass):t.classList.remove(this.$sectionExpandedClass);var s=this.checkIfAllSectionsOpen();this.updateOpenAllButton(s)}},q.prototype.isExpanded=function(e){return e.classList.contains(this.$sectionExpandedClass)},q.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.$sectionExpandedClass).length},q.prototype.updateOpenAllButton=function(e){var t=this.$module.querySelector(".idsk-stepper__controls"),i=e?t.dataset.line2:t.dataset.line1;i+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=i};var i={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};function x(e){this.$module=e}function A(e){this.$module=e,this.$currentData=null,this.$currentMode=""}function $(e){this.$module=e}function T(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.browserSupportsSessionStorage=B.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded",this.$openAllButton=e.querySelector(".govuk-accordion__open-all"),this.$sectionSpan=e.querySelector(".govuk-accordion__controls-span"),this.openTitle=this.$openAllButton.dataset.openTitle,this.closeTitle=this.$openAllButton.dataset.closeTitle,this.sectionTitle=this.$sectionSpan.dataset.sectionTitle}q.prototype.storeState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},q.prototype.setInitialState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},x.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-registration-for-event-js-submit");t&&t.forEach(function(e){e.addEventListener("click",this.handleSubmitClick.bind(this))}.bind(this))}},x.prototype.handleSubmitClick=function(e){e.preventDefault();var t=this.$module,i=t.querySelector(".idsk-registration-for-event__form"),s=t.querySelector(".idsk-registration-for-event__thank-you-msg"),n=t.querySelectorAll("[required]"),o=!0,r=/\S+@\S+\.\S+/;n.forEach(function(e){var t=e.closest(".govuk-form-group");!e.checkValidity()||"email"===e.type&&!r.test(e.value)?(t.querySelector(".govuk-error-message").style.display="block",t.classList.add("govuk-form-group--error"),e.classList.add("govuk-input--error"),o=!1):(t.querySelector(".govuk-error-message").style.display="none",t.classList.remove("govuk-form-group--error"),e.classList.remove("govuk-input--error"))}),o&&(s.style.display="block",i.style.display="none")},A.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-intereactive-map__radio-map");t&&t.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"map"));var i=e.querySelector(".idsk-intereactive-map__radio-table");i&&i.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"table"));var s=e.querySelector(".idsk-interactive-map__select-time-period");s&&s.addEventListener("change",this.renderData.bind(this));var n=e.querySelector(".idsk-interactive-map__select-indicator");n&&n.addEventListener("change",this.renderData.bind(this));var o=e.querySelector(".govuk-radios__input").getAttribute("name"),r=e.querySelector('input[name="'+o+'"]:checked').value;this.handleRadioButtonModeClick(r),this.renderData()}},A.prototype.handleRadioButtonModeClick=function(e){var t=e,i=this.$module;this.$currentMode!==t&&("table"===(this.$currentMode=t)?(i.querySelector(".idsk-interactive-map__table").style.display="block",i.querySelector(".idsk-interactive-map__map").style.display="none"):"map"===t&&(i.querySelector(".idsk-interactive-map__map").style.display="block",i.querySelector(".idsk-interactive-map__table").style.display="none",i.querySelector(".idsk-interactive-map__map-iframe").src+=""))},A.prototype.renderData=function(){var e=this.$module,t=e.querySelector(".idsk-interactive-map__table-iframe"),i=t.dataset.src,s=e.querySelector(".idsk-interactive-map__map-iframe"),n=s.dataset.src,o=e.querySelector(".idsk-interactive-map__select-time-period"),r=o.options[o.selectedIndex].value,a=o.options[o.selectedIndex].text,l=e.querySelector(".idsk-interactive-map__select-indicator");if(l){var c=l.options[l.selectedIndex].value,d=l.options[l.selectedIndex].text;e.querySelector(".idsk-interactive-map__current-indicator").innerText=d,e.querySelector(".idsk-interactive-map__current-time-period").innerText=a}s.src=n+"?indicator="+c+"&time="+r,t.src=i+"?indicator="+c+"&time="+r},$.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-graph__radio");t&&h(t,function(e){e.addEventListener("change",this.handleRadioButtonModeClick.bind(this))}.bind(this));var i=e.querySelector(".idsk-graph__copy-to-clickboard");i&&i.addEventListener("click",this.handleShareByCopyToClickboardClick.bind(this));var s=e.querySelector(".idsk-graph__send-link-by-email");s&&s.addEventListener("click",this.handleShareByEmailClick.bind(this));var n=e.querySelector(".idsk-graph__share-on-facebook");n&&n.addEventListener("click",this.handleShareByFacebook.bind(this));var o=e.querySelectorAll(".idsk-graph__meta-link-list");o&&(h(o,function(e){e.addEventListener("click",this.handleDropdownLinkClick.bind(this))}.bind(this)),e.boundCheckDropdownOutsideClick=this.checkDropdownOutsideClick.bind(this));var r=e.querySelectorAll(".govuk-tabs__tab");if(r){h(r,function(e){e.addEventListener("click",this.handleTabLinkClick.bind(this))}.bind(this));var a=e.querySelector(".govuk-tabs").dataset.activetab,l=e.querySelector('.govuk-tabs__tab[href="'+window.location.hash+'"]')||r[a||0];this.showTab(l)}var c=e.querySelector(".idsk-graph__radio").getAttribute("name"),d=e.querySelector('input[name="'+c+'"]:checked').value;this.handleRadioButtonModeClick(d)}},$.prototype.handleRadioButtonModeClick=function(e){var t=e.target||e.srcElement;if(t){var s=t.getAttribute("value");this.$module.querySelectorAll(".idsk-graph__iframe").forEach(function(e){var t=e.dataset.src,i=t.indexOf("?")<0?"?type="+s:"&type="+s;e.src=t+i})}},$.prototype.handleShareByCopyToClickboardClick=function(e){e.preventDefault();var t=document.createElement("textarea");t.textContent=location.href,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(i){return!1}finally{document.body.removeChild(t)}},$.prototype.handleShareByEmailClick=function(e){var t=e.target||e.srcElement,i=this.$module.querySelector(".idsk-graph__title h2").innerText,s="mailto:?Subject="+i+"&body="+(i.dataset.lines+location.href);t.href=s},$.prototype.handleShareByFacebook=function(e){var t=e.target||e.srcElement,i="https://www.facebook.com/sharer/sharer.php?u="+location.href;t.href=i},$.prototype.handleDropdownLinkClick=function(e){e.preventDefault();var t=e.target||e.srcElement,i=this.$module,s=t.closest(".idsk-graph__meta-link-list").parentElement.querySelector(".idsk-graph__meta-list"),n=window.getComputedStyle(s,null).display;i.querySelectorAll(".idsk-graph__meta-list").forEach(function(e){e.style.display="none"}),s.style.display="block"==n?"none":"block",document.addEventListener("click",this.$module.boundCheckDropdownOutsideClick,!0)},$.prototype.checkDropdownOutsideClick=function(){var e=this.$module;e.querySelectorAll(".idsk-graph__meta-list").forEach(function(e){e.style.display="none"}),document.removeEventListener("click",e.boundCheckDropdownOutsideClick,!1)},$.prototype.handleTabLinkClick=function(e){e.preventDefault();var t=e.target||e.srcElement,i=this.$module,s=i.querySelector(".idsk-graph__section-show"),n=s.getAttribute("id"),o=i.querySelector('a[href="#'+n+'"]').closest(".govuk-tabs__list-item");s.classList.remove("idsk-graph__section-show"),o.classList.remove("idsk-graph__section--selected"),this.showTab(t)},$.prototype.showTab=function(e){var t=e.getAttribute("href"),i=t.slice(t.indexOf("#"),t.length),s=(i=t.slice(t.indexOf("#"),t.length),this.$module.querySelector(i));e.closest(".govuk-tabs__list-item").classList.add("idsk-graph__section--selected"),s.classList.add("idsk-graph__section-show")},T.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},T.prototype.initControls=function(){this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},T.prototype.initSectionHeaders=function(){s(this.$sections,function(e,t){var i=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},T.prototype.initHeaderAttributes=function(t,e){var i=this,s=t.querySelector("."+this.sectionButtonClass),n=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.sectionHeaderFocusedClass)||(t.className+=" "+i.sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var c=document.createElement("span");c.className=this.iconClass,c.setAttribute("aria-hidden","true"),n.appendChild(c)},T.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},T.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();s(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},T.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)},T.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},T.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},T.prototype.updateOpenAllButton=function(e){var t=e?this.closeTitle:this.openTitle;t+='<span class="govuk-visually-hidden section-span"> '+this.sectionTitle+"</span>",this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var B={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};T.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},T.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},e.initAll=function P(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;s(t.querySelectorAll('[data-module="idsk-button"]'),function(e){new k(e).init()}),s(t.querySelectorAll('[data-module="idsk-feedback"]'),function(e){new v(e).init()}),s(t.querySelectorAll('[data-module="idsk-footer-extended"]'),function(e){new b(e).init()}),s(t.querySelectorAll('[data-module="idsk-character-count"]'),function(e){new y(e).init()}),s(t.querySelectorAll('[data-module="idsk-crossroad"]'),function(e){new g(e).init()}),s(t.querySelectorAll('[data-module="idsk-customer-surveys"]'),function(e){new _(e).init()}),s(t.querySelectorAll('[data-module="idsk-header-extended"]'),function(e){new S(e).init()}),new L(t.querySelector('[data-module="idsk-in-page-navigation"]')).init(),new E(t.querySelector('[data-module="idsk-search-results"]')).init(),s(t.querySelectorAll('[data-module="idsk-search-results-filter"]'),function(e){new w(e).init()}),s(t.querySelectorAll('[data-module="idsk-search-component"]'),function(e){new C(e).init()}),s(t.querySelectorAll('[data-module="idsk-stepper"]'),function(e){new q(e).init()}),s(t.querySelectorAll('[data-module="idsk-registration-for-event"]'),function(e){new x(e).init()}),s(t.querySelectorAll('[data-module="idsk-interactive-map"]'),function(e){new A(e).init()}),s(t.querySelectorAll('[data-module="idsk-graph"]'),function(e){new $(e).init()}),s(t.querySelectorAll('[data-module="idsk-accordion"]'),function(e){new T(e).init()}),function i(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;h(t.querySelectorAll('[data-module="govuk-button"]'),function(e){new o(e).init()}),h(t.querySelectorAll('[data-module="govuk-accordion"]'),function(e){new n(e).init()}),h(t.querySelectorAll('[data-module="govuk-details"]'),function(e){new a(e).init()}),h(t.querySelectorAll('[data-module="govuk-character-count"]'),function(e){new l(e).init()}),h(t.querySelectorAll('[data-module="govuk-checkboxes"]'),function(e){new c(e).init()}),new d(t.querySelector('[data-module="govuk-error-summary"]')).init(),new p(t.querySelector('[data-module="govuk-header"]')).init(),h(t.querySelectorAll('[data-module="govuk-radios"]'),function(e){new m(e).init()}),h(t.querySelectorAll('[data-module="govuk-tabs"]'),function(e){new f(e).init()})}(e)},e.Button=k,e.CharacterCount=y,e.Crossroad=g,e.CustomerSurveys=_,e.Feedback=v,e.FooterExtended=b,e.HeaderExtended=S,e.InPageNavigation=L,e.SearchComponent=C,e.SearchResults=E,e.SearchResultsFilter=w,e.RegistrationForEvent=x,e.InteractiveMap=A,e.Stepper=q,e.Graph=$,e.Accordion=T});
