{"version":3,"file":"idsk-header-web.mjs","sources":["../../../../src/govuk/components/idsk-header-web/idsk-header-web.mjs"],"sourcesContent":["/* eslint-disable */\n\nimport { toggleClass } from '../../common.mjs'\n\n/**\n * Header for web websites\n */\nfunction IdskHeaderWeb ($module) {\n  this.$module = $module\n}\n\n/**\n * HeaderWeb init function\n */\nIdskHeaderWeb.prototype.init = function () {\n  var $module = this.$module\n  // check for module\n  if (!$module) {\n    return\n  }\n\n  // check for banner\n  var $banner = $module.querySelector('.idsk-header-web__banner')\n  this.$lastScrollTopPosition = 0\n\n  if ($banner) {\n    document.addEventListener('scroll', this.handleToggleBanner.bind(this))\n  }\n\n  // check for close banner button\n  var $bannerCloseBtn = $module.querySelector('.idsk-header-web__banner-close')\n\n  if ($bannerCloseBtn) {\n    $bannerCloseBtn.addEventListener('click', this.handleCloseBanner.bind(this))\n  }\n\n  // check for language switcher\n  this.$languageBtn = $module.querySelector(\n    '.idsk-header-web__brand-language-button'\n  )\n\n  if (this.$languageBtn) {\n    // Handle esc button press\n    var $languageSwitcher = $module.querySelector(\n      '.idsk-header-web__brand-language'\n    )\n    $languageSwitcher.addEventListener(\n      'keydown',\n      this.languageEscPressed.bind(this)\n    )\n\n    // Handle $languageBtn click events\n    this.$languageBtn.addEventListener(\n      'click',\n      this.handleLanguageSwitcherClick.bind(this)\n    )\n\n    // close language list if i left the last item from langauge list e.g. if user use tab key for navigations\n    var $lastLanguageItems = $module.querySelectorAll(\n      '.idsk-header-web__brand-language-list-item:last-child .idsk-header-web__brand-language-list-item-link'\n    )\n    $lastLanguageItems.forEach(\n      function ($lastLanguageItem) {\n        $lastLanguageItem.addEventListener(\n          'blur',\n          this.checkBlurLanguageSwitcherClick.bind(this)\n        )\n      }.bind(this)\n    )\n\n    // close language list if user back tabbing\n    this.$languageBtn.addEventListener(\n      'keydown',\n      this.handleBackTabbing.bind(this)\n    )\n  }\n\n  $module.boundCheckBlurLanguageSwitcherClick =\n    this.checkBlurLanguageSwitcherClick.bind(this)\n\n  // check for e-goverment button\n  var $eGovermentButtons = $module.querySelectorAll(\n    '.idsk-header-web__brand-gestor-button'\n  )\n  this.$eGovermentSpacer = $module.querySelector(\n    '.idsk-header-web__brand-spacer'\n  )\n  if ($eGovermentButtons.length > 0) {\n    // Handle $eGovermentButton click event\n    $eGovermentButtons.forEach(\n      function ($eGovermentButton) {\n        $eGovermentButton.addEventListener(\n          'click',\n          this.handleEgovermentClick.bind(this)\n        )\n      }.bind(this)\n    )\n  }\n\n  // check for menu items\n  var $menuList = $module.querySelector('.idsk-header-web__nav-list')\n  var $menuItems = $module.querySelectorAll(\n    '.idsk-header-web__nav-list-item-link'\n  )\n  if ($menuItems && $menuList) {\n    // Handle $menuItem click events\n    $menuItems.forEach(\n      function ($menuItem) {\n        $menuItem.addEventListener('click', this.handleSubmenuClick.bind(this))\n        if (\n          $menuItem.parentElement.querySelector(\n            '.idsk-header-web__nav-submenu'\n          ) ||\n          $menuItem.parentElement.querySelector(\n            '.idsk-header-web__nav-submenulite'\n          )\n        ) {\n          $menuItem.parentElement.lastElementChild.addEventListener(\n            'keydown',\n            this.menuTabbing.bind(this)\n          )\n        }\n      }.bind(this)\n    )\n    $module.addEventListener('keydown', this.navEscPressed.bind(this))\n  }\n\n  // check for mobile menu button\n  this.$menuButton = $module.querySelector(\n    '.idsk-header-web__main-headline-menu-button'\n  )\n  if (this.$menuButton) {\n    this.$menuButton.addEventListener('click', this.showMobileMenu.bind(this))\n    this.menuBtnText = this.$menuButton.innerText.trim()\n    this.initMobileMenuTabbing()\n  }\n\n  $module.boundCheckBlurMenuItemClick = this.checkBlurMenuItemClick.bind(this)\n}\n\n/**\n * Handle toggle banner on scrolling\n *\n * @param {object} e\n * @returns {boolean|void} False if mobile menu is open\n */\nIdskHeaderWeb.prototype.handleToggleBanner = function (e) {\n  // ignore if mobile menu is open\n  if (!this.$module.querySelector('.idsk-header-web__nav--mobile')) {\n    return false\n  }\n\n  // @ts-ignore\n  var $scrollTop = window.pageYOffset || document.scrollTop\n  if ($scrollTop > this.$lastScrollTopPosition) {\n    this.$module\n      .querySelector('.idsk-header-web__banner')\n      .classList.add('idsk-header-web__banner--scrolled')\n  } else if ($scrollTop < this.$lastScrollTopPosition) {\n    this.$module\n      .querySelector('.idsk-header-web__banner')\n      .classList.remove('idsk-header-web__banner--scrolled')\n  }\n\n  // $scrollTop is not used, because element idsk-header-web__banner change height of header\n  // @ts-ignore\n  this.$lastScrollTopPosition = window.pageYOffset || document.scrollTop\n}\n\n/**\n * Handle close banner\n *\n * @param {object} e\n */\nIdskHeaderWeb.prototype.handleCloseBanner = function (e) {\n  var $closeButton = e.target || e.srcElement\n  var $banner = $closeButton.closest('.idsk-header-web__banner')\n  $banner.classList.add('idsk-header-web__banner--hide')\n}\n\n/**\n * Handle open/hide language switcher\n *\n * @param {object} e\n */\nIdskHeaderWeb.prototype.handleLanguageSwitcherClick = function (e) {\n  var $toggleButton = e.target || e.srcElement\n  this.$activeSearch = $toggleButton.closest('.idsk-header-web__brand-language')\n  toggleClass(this.$activeSearch, 'idsk-header-web__brand-language--active')\n  if (\n    this.$activeSearch.classList.contains(\n      'idsk-header-web__brand-language--active'\n    )\n  ) {\n    this.$activeSearch.firstElementChild.setAttribute('aria-expanded', 'true')\n    this.$activeSearch.firstElementChild.setAttribute(\n      'aria-label',\n      this.$activeSearch.firstElementChild.getAttribute('data-text-for-hide')\n    )\n  } else {\n    this.$activeSearch.firstElementChild.setAttribute('aria-expanded', 'false')\n    this.$activeSearch.firstElementChild.setAttribute(\n      'aria-label',\n      this.$activeSearch.firstElementChild.getAttribute('data-text-for-show')\n    )\n  }\n  document.addEventListener(\n    'click',\n    this.$module.boundCheckBlurLanguageSwitcherClick,\n    true\n  )\n}\n\n/**\n * HeaderWeb checkBlurLanguageSwitcherClick handler\n */\nIdskHeaderWeb.prototype.checkBlurLanguageSwitcherClick = function (e) {\n  if (!e.target.classList.contains('idsk-header-web__brand-language-button')) {\n    this.$activeSearch.classList.remove(\n      'idsk-header-web__brand-language--active'\n    )\n    this.$activeSearch.firstElementChild.setAttribute('aria-expanded', 'false')\n    this.$activeSearch.firstElementChild.setAttribute(\n      'aria-label',\n      this.$activeSearch.firstElementChild.getAttribute('data-text-for-show')\n    )\n    document.removeEventListener(\n      'click',\n      this.$module.boundCheckBlurLanguageSwitcherClick,\n      true\n    )\n  }\n}\n\n/**\n * HeaderWeb handleBackTabbing handler\n */\nIdskHeaderWeb.prototype.handleBackTabbing = function (e) {\n  // shift was down when tab was pressed\n  if (\n    e.shiftKey &&\n    e.keyCode === 9 &&\n    document.activeElement === this.$languageBtn\n  ) {\n    // this.handleLanguageSwitcherClick(e);\n  }\n}\n\n/**\n * HeaderWeb languageEscPressed handler\n */\nIdskHeaderWeb.prototype.languageEscPressed = function (e) {\n  if (\n    e.key === 'Escape' &&\n    this.$languageBtn.getAttribute('aria-expanded') === 'true'\n  ) {\n    this.handleLanguageSwitcherClick(e)\n  }\n}\n\n/**\n * Handle open/hide e-goverment statement\n *\n * @param {object} e\n */\nIdskHeaderWeb.prototype.handleEgovermentClick = function (e) {\n  var $eGovermentButtons = this.$module.querySelectorAll(\n    '.idsk-header-web__brand-gestor-button'\n  )\n  var $eGovermentDropdown = this.$module.querySelector(\n    '.idsk-header-web__brand-dropdown'\n  )\n  toggleClass($eGovermentDropdown, 'idsk-header-web__brand-dropdown--active')\n  toggleClass(this.$eGovermentSpacer, 'idsk-header-web__brand-spacer--active')\n  $eGovermentButtons.forEach(\n    function ($eGovermentButton) {\n      toggleClass(\n        $eGovermentButton,\n        'idsk-header-web__brand-gestor-button--active'\n      )\n      if (\n        $eGovermentButton.classList.contains(\n          'idsk-header-web__brand-gestor-button--active'\n        )\n      ) {\n        $eGovermentButton.setAttribute('aria-expanded', 'true')\n        $eGovermentButton.setAttribute(\n          'aria-label',\n          $eGovermentButton.getAttribute('data-text-for-hide')\n        )\n      } else {\n        $eGovermentButton.setAttribute('aria-expanded', 'false')\n        $eGovermentButton.setAttribute(\n          'aria-label',\n          $eGovermentButton.getAttribute('data-text-for-show')\n        )\n      }\n    }.bind(this)\n  )\n}\n\n/**\n * Handle open/hide submenu\n *\n * @param {object} e\n */\nIdskHeaderWeb.prototype.handleSubmenuClick = function (e) {\n  var $srcEl = e.target || e.srcElement\n  var $toggleButton = $srcEl.closest('.idsk-header-web__nav-list-item')\n  var $currActiveItem = this.$module.querySelector(\n    '.idsk-header-web__nav-list-item--active'\n  )\n\n  if ($currActiveItem && $currActiveItem.isEqualNode($toggleButton)) {\n    $currActiveItem.classList.remove('idsk-header-web__nav-list-item--active')\n    if ($toggleButton.childNodes[3]) {\n      $currActiveItem.childNodes[1].setAttribute('aria-expanded', 'false')\n      $toggleButton.childNodes[1].setAttribute(\n        'aria-label',\n        $toggleButton.childNodes[1].getAttribute('data-text-for-show')\n      )\n    }\n  } else {\n    if ($currActiveItem) {\n      $currActiveItem.classList.remove('idsk-header-web__nav-list-item--active')\n    }\n    toggleClass($toggleButton, 'idsk-header-web__nav-list-item--active')\n\n    if (\n      $toggleButton.childNodes[3] &&\n      $toggleButton.classList.contains('idsk-header-web__nav-list-item--active')\n    ) {\n      $toggleButton.childNodes[1].setAttribute('aria-expanded', 'true')\n      $toggleButton.childNodes[1].setAttribute(\n        'aria-label',\n        $toggleButton.childNodes[1].getAttribute('data-text-for-hide')\n      )\n      if (window.screen.width <= 768) {\n        $toggleButton.scrollIntoView({ behavior: 'smooth' })\n      }\n    }\n  }\n\n  document.addEventListener(\n    'click',\n    this.$module.boundCheckBlurMenuItemClick.bind(this),\n    true\n  )\n}\n\n/**\n * Remove active class from menu when user leaves menu with tabbing\n */\nIdskHeaderWeb.prototype.menuTabbing = function (e) {\n  var isTabPressed = e.key === 'Tab' || e.keyCode === 9\n\n  if (!isTabPressed) {\n    return\n  }\n\n  var $submenuList = e.srcElement.parentElement.parentElement\n  var $activeItem = $submenuList.closest('.idsk-header-web__nav-list-item')\n  // shift + tab\n  if (e.shiftKey) {\n    if (\n      document.activeElement ===\n      $submenuList.firstElementChild.firstElementChild\n    ) {\n      $activeItem.classList.remove('idsk-header-web__nav-list-item--active')\n      $activeItem.childNodes[1].setAttribute('aria-expanded', 'false')\n      $activeItem.childNodes[1].setAttribute(\n        'aria-label',\n        $activeItem.childNodes[1].getAttribute('data-text-for-show')\n      )\n    }\n    // tab\n  } else if (\n    document.activeElement === $submenuList.lastElementChild.lastElementChild\n  ) {\n    $activeItem.classList.remove('idsk-header-web__nav-list-item--active')\n    $activeItem.childNodes[1].setAttribute('aria-expanded', 'false')\n    $activeItem.childNodes[1].setAttribute(\n      'aria-label',\n      $activeItem.childNodes[1].getAttribute('data-text-for-show')\n    )\n  }\n}\n\n/**\n * Remove active class from menu when user leaves menu with esc\n */\nIdskHeaderWeb.prototype.navEscPressed = function (e) {\n  if (e.key === 'Escape') {\n    var $menuList = e.srcElement.parentElement.parentElement\n    if (\n      $menuList.classList.contains('idsk-header-web__nav-submenulite-list') ||\n      $menuList.classList.contains('idsk-header-web__nav-submenu-list')\n    ) {\n      $menuList = $menuList.closest('.idsk-header-web__nav-list')\n    }\n    var $activeItem = $menuList.querySelector(\n      '.idsk-header-web__nav-list-item--active'\n    )\n    if ($activeItem) {\n      $activeItem.classList.remove('idsk-header-web__nav-list-item--active')\n      $activeItem.childNodes[1].setAttribute('aria-expanded', 'false')\n      $activeItem.childNodes[1].setAttribute(\n        'aria-label',\n        $activeItem.childNodes[1].getAttribute('data-text-for-show')\n      )\n      $activeItem.childNodes[1].focus()\n    } else if (this.$menuButton.getAttribute('aria-expanded') === 'true') {\n      // Hide mobile menu if navigation is not active\n      this.showMobileMenu()\n    }\n  }\n}\n\n/**\n * handle click outside menu or \"blur\" the item link\n */\nIdskHeaderWeb.prototype.checkBlurMenuItemClick = function (e) {\n  var $currActiveItem = this.$module.querySelector(\n    '.idsk-header-web__nav-list-item--active'\n  )\n  if (\n    $currActiveItem &&\n    !e.target.classList.contains('idsk-header-web__nav-list-item-link')\n  ) {\n    $currActiveItem.classList.remove('idsk-header-web__nav-list-item--active')\n    if ($currActiveItem.childNodes[3]) {\n      $currActiveItem.childNodes[1].setAttribute('aria-expanded', 'false')\n      $currActiveItem.childNodes[1].setAttribute(\n        'aria-label',\n        $currActiveItem.childNodes[1].getAttribute('data-text-for-show')\n      )\n    }\n    document.removeEventListener(\n      'click',\n      this.$module.boundCheckBlurMenuItemClick,\n      true\n    )\n  }\n}\n\n/**\n * Show mobile menu\n */\nIdskHeaderWeb.prototype.showMobileMenu = function () {\n  var closeText = this.menuBtnText ? 'ZavrieÅ¥' : ''\n  var $mobileMenu = this.$module.querySelector('.idsk-header-web__nav')\n  toggleClass($mobileMenu, 'idsk-header-web__nav--mobile')\n  toggleClass(\n    this.$menuButton,\n    'idsk-header-web__main-headline-menu-button--active'\n  )\n  if (\n    !this.$menuButton.classList.contains(\n      'idsk-header-web__main-headline-menu-button--active'\n    )\n  ) {\n    this.$menuButton.setAttribute('aria-expanded', 'false')\n    this.$menuButton.setAttribute(\n      'aria-label',\n      this.$menuButton.getAttribute('data-text-for-show')\n    )\n  } else {\n    this.$menuButton.setAttribute('aria-expanded', 'true')\n    this.$menuButton.setAttribute(\n      'aria-label',\n      this.$menuButton.getAttribute('data-text-for-hide')\n    )\n  }\n  var buttonIsActive = this.$menuButton.classList.contains(\n    'idsk-header-web__main-headline-menu-button--active'\n  )\n\n  this.$menuButton.childNodes[0].nodeValue = buttonIsActive\n    ? closeText\n    : this.menuBtnText\n}\n\n/**\n * Create loop in mobile menu for tabbing elements\n */\nIdskHeaderWeb.prototype.initMobileMenuTabbing = function () {\n  var $menuItems = this.$module.querySelector('.idsk-header-web__nav')\n  var $focusableElements = Array.from(\n    $menuItems.querySelectorAll(\n      'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])'\n    )\n  ).filter(function (s) {\n    return window.getComputedStyle(s).getPropertyValue('display') !== 'none'\n  })\n  var $menuButton = this.$menuButton\n  var $lastMenuItem = $focusableElements[$focusableElements.length - 1]\n  var KEYCODE_TAB = 9\n\n  $menuButton.addEventListener('keydown', function (e) {\n    var isTabPressed = e.key === 'Tab' || e.keyCode === KEYCODE_TAB\n\n    if (\n      isTabPressed &&\n      e.shiftKey &&\n      e.target.getAttribute('aria-expanded') === 'true'\n    ) {\n      $lastMenuItem.focus()\n      e.preventDefault()\n    }\n  })\n\n  $lastMenuItem.addEventListener('keydown', function (e) {\n    var isTabPressed = e.key === 'Tab' || e.keyCode === KEYCODE_TAB\n\n    if (isTabPressed && !e.shiftKey && $menuButton.offsetParent !== null) {\n      $menuButton.focus()\n      e.preventDefault()\n    }\n  })\n}\n\nexport default IdskHeaderWeb\n"],"names":[],"mappings":";;AAAA;AACA,AAEA;;;;AAIA,SAAS,aAAa,EAAE,OAAO,EAAE;EAC/B,IAAI,CAAC,OAAO,GAAG,QAAO;CACvB;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;EACzC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;;EAE1B,IAAI,CAAC,OAAO,EAAE;IACZ,MAAM;GACP;;;EAGD,IAAI,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,0BAA0B,EAAC;EAC/D,IAAI,CAAC,sBAAsB,GAAG,EAAC;;EAE/B,IAAI,OAAO,EAAE;IACX,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;GACxE;;;EAGD,IAAI,eAAe,GAAG,OAAO,CAAC,aAAa,CAAC,gCAAgC,EAAC;;EAE7E,IAAI,eAAe,EAAE;IACnB,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;GAC7E;;;EAGD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,aAAa;IACvC,yCAAyC;IAC1C;;EAED,IAAI,IAAI,CAAC,YAAY,EAAE;;IAErB,IAAI,iBAAiB,GAAG,OAAO,CAAC,aAAa;MAC3C,kCAAkC;MACnC;IACD,iBAAiB,CAAC,gBAAgB;MAChC,SAAS;MACT,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;MACnC;;;IAGD,IAAI,CAAC,YAAY,CAAC,gBAAgB;MAChC,OAAO;MACP,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC;MAC5C;;;IAGD,IAAI,kBAAkB,GAAG,OAAO,CAAC,gBAAgB;MAC/C,uGAAuG;MACxG;IACD,kBAAkB,CAAC,OAAO;MACxB,UAAU,iBAAiB,EAAE;QAC3B,iBAAiB,CAAC,gBAAgB;UAChC,MAAM;UACN,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,IAAI,CAAC;UAC/C;OACF,CAAC,IAAI,CAAC,IAAI,CAAC;MACb;;;IAGD,IAAI,CAAC,YAAY,CAAC,gBAAgB;MAChC,SAAS;MACT,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC;MAClC;GACF;;EAED,OAAO,CAAC,mCAAmC;IACzC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,IAAI,EAAC;;;EAGhD,IAAI,kBAAkB,GAAG,OAAO,CAAC,gBAAgB;IAC/C,uCAAuC;IACxC;EACD,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,aAAa;IAC5C,gCAAgC;IACjC;EACD,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;;IAEjC,kBAAkB,CAAC,OAAO;MACxB,UAAU,iBAAiB,EAAE;QAC3B,iBAAiB,CAAC,gBAAgB;UAChC,OAAO;UACP,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;UACtC;OACF,CAAC,IAAI,CAAC,IAAI,CAAC;MACb;GACF;;;EAGD,IAAI,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,4BAA4B,EAAC;EACnE,IAAI,UAAU,GAAG,OAAO,CAAC,gBAAgB;IACvC,sCAAsC;IACvC;EACD,IAAI,UAAU,IAAI,SAAS,EAAE;;IAE3B,UAAU,CAAC,OAAO;MAChB,UAAU,SAAS,EAAE;QACnB,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;QACvE;UACE,SAAS,CAAC,aAAa,CAAC,aAAa;YACnC,+BAA+B;WAChC;UACD,SAAS,CAAC,aAAa,CAAC,aAAa;YACnC,mCAAmC;WACpC;UACD;UACA,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,gBAAgB;YACvD,SAAS;YACT,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;YAC5B;SACF;OACF,CAAC,IAAI,CAAC,IAAI,CAAC;MACb;IACD,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;GACnE;;;EAGD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,aAAa;IACtC,6CAA6C;IAC9C;EACD,IAAI,IAAI,CAAC,WAAW,EAAE;IACpB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;IAC1E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,GAAE;IACpD,IAAI,CAAC,qBAAqB,GAAE;GAC7B;;EAED,OAAO,CAAC,2BAA2B,GAAG,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAC;EAC7E;;;;;;;;AAQD,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE;;EAExD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,+BAA+B,CAAC,EAAE;IAChE,OAAO,KAAK;GACb;;;EAGD,IAAI,UAAU,GAAG,MAAM,CAAC,WAAW,IAAI,QAAQ,CAAC,UAAS;EACzD,IAAI,UAAU,GAAG,IAAI,CAAC,sBAAsB,EAAE;IAC5C,IAAI,CAAC,OAAO;OACT,aAAa,CAAC,0BAA0B,CAAC;OACzC,SAAS,CAAC,GAAG,CAAC,mCAAmC,EAAC;GACtD,MAAM,IAAI,UAAU,GAAG,IAAI,CAAC,sBAAsB,EAAE;IACnD,IAAI,CAAC,OAAO;OACT,aAAa,CAAC,0BAA0B,CAAC;OACzC,SAAS,CAAC,MAAM,CAAC,mCAAmC,EAAC;GACzD;;;;EAID,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,WAAW,IAAI,QAAQ,CAAC,UAAS;EACvE;;;;;;;AAOD,aAAa,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,CAAC,EAAE;EACvD,IAAI,YAAY,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,WAAU;EAC3C,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,0BAA0B,EAAC;EAC9D,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,+BAA+B,EAAC;EACvD;;;;;;;AAOD,aAAa,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,CAAC,EAAE;EACjE,IAAI,aAAa,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,WAAU;EAC5C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC,OAAO,CAAC,kCAAkC,EAAC;EAC9E,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,yCAAyC,EAAC;EAC1E;IACE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ;MACnC,yCAAyC;KAC1C;IACD;IACA,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,EAAC;IAC1E,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY;MAC/C,YAAY;MACZ,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,CAAC;MACxE;GACF,MAAM;IACL,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;IAC3E,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY;MAC/C,YAAY;MACZ,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,CAAC;MACxE;GACF;EACD,QAAQ,CAAC,gBAAgB;IACvB,OAAO;IACP,IAAI,CAAC,OAAO,CAAC,mCAAmC;IAChD,IAAI;IACL;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,8BAA8B,GAAG,UAAU,CAAC,EAAE;EACpE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,wCAAwC,CAAC,EAAE;IAC1E,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM;MACjC,yCAAyC;MAC1C;IACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;IAC3E,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY;MAC/C,YAAY;MACZ,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,CAAC;MACxE;IACD,QAAQ,CAAC,mBAAmB;MAC1B,OAAO;MACP,IAAI,CAAC,OAAO,CAAC,mCAAmC;MAChD,IAAI;MACL;GACF;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,CAAC,EAAE;;EAEvD;IACE,CAAC,CAAC,QAAQ;IACV,CAAC,CAAC,OAAO,KAAK,CAAC;IACf,QAAQ,CAAC,aAAa,KAAK,IAAI,CAAC,YAAY;IAC5C,CAED;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE;EACxD;IACE,CAAC,CAAC,GAAG,KAAK,QAAQ;IAClB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM;IAC1D;IACA,IAAI,CAAC,2BAA2B,CAAC,CAAC,EAAC;GACpC;EACF;;;;;;;AAOD,aAAa,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,CAAC,EAAE;EAC3D,IAAI,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB;IACpD,uCAAuC;IACxC;EACD,IAAI,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;IAClD,kCAAkC;IACnC;EACD,WAAW,CAAC,mBAAmB,EAAE,yCAAyC,EAAC;EAC3E,WAAW,CAAC,IAAI,CAAC,iBAAiB,EAAE,uCAAuC,EAAC;EAC5E,kBAAkB,CAAC,OAAO;IACxB,UAAU,iBAAiB,EAAE;MAC3B,WAAW;QACT,iBAAiB;QACjB,8CAA8C;QAC/C;MACD;QACE,iBAAiB,CAAC,SAAS,CAAC,QAAQ;UAClC,8CAA8C;SAC/C;QACD;QACA,iBAAiB,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,EAAC;QACvD,iBAAiB,CAAC,YAAY;UAC5B,YAAY;UACZ,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,CAAC;UACrD;OACF,MAAM;QACL,iBAAiB,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;QACxD,iBAAiB,CAAC,YAAY;UAC5B,YAAY;UACZ,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,CAAC;UACrD;OACF;KACF,CAAC,IAAI,CAAC,IAAI,CAAC;IACb;EACF;;;;;;;AAOD,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE;EACxD,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,WAAU;EACrC,IAAI,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,iCAAiC,EAAC;EACrE,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;IAC9C,yCAAyC;IAC1C;;EAED,IAAI,eAAe,IAAI,eAAe,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE;IACjE,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;IAC1E,IAAI,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;MAC/B,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;MACpE,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;QACtC,YAAY;QACZ,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;QAC/D;KACF;GACF,MAAM;IACL,IAAI,eAAe,EAAE;MACnB,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;KAC3E;IACD,WAAW,CAAC,aAAa,EAAE,wCAAwC,EAAC;;IAEpE;MACE,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;MAC3B,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,wCAAwC,CAAC;MAC1E;MACA,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,EAAC;MACjE,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;QACtC,YAAY;QACZ,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;QAC/D;MACD,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,IAAI,GAAG,EAAE;QAC9B,aAAa,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAC;OACrD;KACF;GACF;;EAED,QAAQ,CAAC,gBAAgB;IACvB,OAAO;IACP,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC;IACnD,IAAI;IACL;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;EACjD,IAAI,YAAY,GAAG,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,OAAO,KAAK,EAAC;;EAErD,IAAI,CAAC,YAAY,EAAE;IACjB,MAAM;GACP;;EAED,IAAI,YAAY,GAAG,CAAC,CAAC,UAAU,CAAC,aAAa,CAAC,cAAa;EAC3D,IAAI,WAAW,GAAG,YAAY,CAAC,OAAO,CAAC,iCAAiC,EAAC;;EAEzE,IAAI,CAAC,CAAC,QAAQ,EAAE;IACd;MACE,QAAQ,CAAC,aAAa;MACtB,YAAY,CAAC,iBAAiB,CAAC,iBAAiB;MAChD;MACA,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;MACtE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;MAChE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;QACpC,YAAY;QACZ,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;QAC7D;KACF;;GAEF,MAAM;IACL,QAAQ,CAAC,aAAa,KAAK,YAAY,CAAC,gBAAgB,CAAC,gBAAgB;IACzE;IACA,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;IACtE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;IAChE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;MACpC,YAAY;MACZ,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;MAC7D;GACF;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE;EACnD,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,EAAE;IACtB,IAAI,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC,aAAa,CAAC,cAAa;IACxD;MACE,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,uCAAuC,CAAC;MACrE,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,mCAAmC,CAAC;MACjE;MACA,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,4BAA4B,EAAC;KAC5D;IACD,IAAI,WAAW,GAAG,SAAS,CAAC,aAAa;MACvC,yCAAyC;MAC1C;IACD,IAAI,WAAW,EAAE;MACf,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;MACtE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;MAChE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;QACpC,YAAY;QACZ,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;QAC7D;MACD,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,GAAE;KAClC,MAAM,IAAI,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,EAAE;;MAEpE,IAAI,CAAC,cAAc,GAAE;KACtB;GACF;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,CAAC,EAAE;EAC5D,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;IAC9C,yCAAyC;IAC1C;EACD;IACE,eAAe;IACf,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,qCAAqC,CAAC;IACnE;IACA,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,wCAAwC,EAAC;IAC1E,IAAI,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;MACjC,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;MACpE,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY;QACxC,YAAY;QACZ,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;QACjE;KACF;IACD,QAAQ,CAAC,mBAAmB;MAC1B,OAAO;MACP,IAAI,CAAC,OAAO,CAAC,2BAA2B;MACxC,IAAI;MACL;GACF;EACF;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;EACnD,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,SAAS,GAAG,GAAE;EACjD,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB,EAAC;EACrE,WAAW,CAAC,WAAW,EAAE,8BAA8B,EAAC;EACxD,WAAW;IACT,IAAI,CAAC,WAAW;IAChB,oDAAoD;IACrD;EACD;IACE,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ;MAClC,oDAAoD;KACrD;IACD;IACA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,EAAC;IACvD,IAAI,CAAC,WAAW,CAAC,YAAY;MAC3B,YAAY;MACZ,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,CAAC;MACpD;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,EAAC;IACtD,IAAI,CAAC,WAAW,CAAC,YAAY;MAC3B,YAAY;MACZ,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,CAAC;MACpD;GACF;EACD,IAAI,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ;IACtD,oDAAoD;IACrD;;EAED,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,cAAc;MACrD,SAAS;MACT,IAAI,CAAC,YAAW;EACrB;;;;;AAKD,aAAa,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;EAC1D,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB,EAAC;EACpE,IAAI,kBAAkB,GAAG,KAAK,CAAC,IAAI;IACjC,UAAU,CAAC,gBAAgB;MACzB,oNAAoN;KACrN;GACF,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;IACpB,OAAO,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,MAAM;GACzE,EAAC;EACF,IAAI,WAAW,GAAG,IAAI,CAAC,YAAW;EAClC,IAAI,aAAa,GAAG,kBAAkB,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAC;EACrE,IAAI,WAAW,GAAG,EAAC;;EAEnB,WAAW,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;IACnD,IAAI,YAAY,GAAG,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,OAAO,KAAK,YAAW;;IAE/D;MACE,YAAY;MACZ,CAAC,CAAC,QAAQ;MACV,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM;MACjD;MACA,aAAa,CAAC,KAAK,GAAE;MACrB,CAAC,CAAC,cAAc,GAAE;KACnB;GACF,EAAC;;EAEF,aAAa,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;IACrD,IAAI,YAAY,GAAG,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,OAAO,KAAK,YAAW;;IAE/D,IAAI,YAAY,IAAI,CAAC,CAAC,CAAC,QAAQ,IAAI,WAAW,CAAC,YAAY,KAAK,IAAI,EAAE;MACpE,WAAW,CAAC,KAAK,GAAE;MACnB,CAAC,CAAC,cAAc,GAAE;KACnB;GACF,EAAC;CACH;;;;"}