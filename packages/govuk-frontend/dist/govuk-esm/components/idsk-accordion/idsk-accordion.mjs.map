{"version":3,"file":"idsk-accordion.mjs","sources":["../../../../src/govuk/components/idsk-accordion/idsk-accordion.mjs"],"sourcesContent":["/*\n  Accordion\n\n  This allows a collection of sections to be collapsed by default,\n  showing only their headers. Sections can be exanded or collapsed\n  individually by clicking their headers. An \"Open all\" button is\n  also added to the top of the accordion, which switches to \"Close all\"\n  when all the sections are expanded.\n\n  The state of each section is saved to the DOM via the `aria-expanded`\n  attribute, which also provides accessibility.\n\n*/\n\n/* eslint-disable */\n\nimport '../../vendor/polyfills/Element/prototype/classList.mjs'\n\n/**\n * Accordion Component\n *\n * @param {object} $module - The accordion module DOM element\n */\nfunction IdskAccordion ($module) {\n  this.$module = $module\n  this.moduleId = $module.getAttribute('id')\n  this.$sections = $module.querySelectorAll('.govuk-accordion__section')\n  this.browserSupportsSessionStorage = helper.checkForSessionStorage()\n\n  this.controlsClass = 'govuk-accordion__controls'\n  this.openAllClass = 'govuk-accordion__open-all'\n  this.iconClass = 'govuk-accordion__icon'\n\n  this.sectionHeaderClass = 'govuk-accordion__section-header'\n  this.sectionHeaderFocusedClass = 'govuk-accordion__section-header--focused'\n  this.sectionHeadingClass = 'govuk-accordion__section-heading'\n  this.sectionSummaryClass = 'govuk-accordion__section-summary'\n  this.sectionButtonClass = 'govuk-accordion__section-button'\n  this.sectionExpandedClass = 'govuk-accordion__section--expanded'\n\n  this.$openAllButton = $module.querySelector('.govuk-accordion__open-all')\n  this.$sectionSpan = $module.querySelector('.govuk-accordion__controls-span')\n  this.openTitle = this.$openAllButton.dataset.openTitle\n  this.closeTitle = this.$openAllButton.dataset.closeTitle\n  this.sectionTitle = this.$sectionSpan.dataset.sectionTitle\n}\n\n/**\n * Initialise component\n */\nIdskAccordion.prototype.init = function () {\n  // Check for module\n  if (!this.$module) {\n    return\n  }\n\n  this.initControls()\n\n  this.initSectionHeaders()\n\n  // See if \"Open all\" button text should be updated\n  var areAllSectionsOpen = this.checkIfAllSectionsOpen()\n  this.updateOpenAllButton(areAllSectionsOpen)\n}\n\n/**\n * Initialise controls and set attributes\n */\nIdskAccordion.prototype.initControls = function () {\n  // Handle events for the controls\n  this.$openAllButton.addEventListener(\n    'click',\n    this.onOpenOrCloseAllToggle.bind(this)\n  )\n}\n\n/**\n * Initialise section headers\n */\nIdskAccordion.prototype.initSectionHeaders = function () {\n  // Loop through section headers\n  this.$sections.forEach(\n    function ($section, i) {\n      // Set header attributes\n      var header = $section.querySelector('.' + this.sectionHeaderClass)\n      this.initHeaderAttributes(header, i)\n\n      this.setExpanded(this.isExpanded($section), $section)\n\n      // Handle events\n      header.addEventListener(\n        'click',\n        this.onSectionToggle.bind(this, $section)\n      )\n\n      // See if there is any state stored in sessionStorage and set the sections to\n      // open or closed.\n      this.setInitialState($section)\n    }.bind(this)\n  )\n}\n\n/**\n * Set individual header attributes\n *\n * @param {object} $headerWrapper - The header wrapper DOM element\n * @param {number} index - The index of the header in the nodeList\n */\nIdskAccordion.prototype.initHeaderAttributes = function ($headerWrapper, index) {\n  var $module = this\n  var $span = $headerWrapper.querySelector('.' + this.sectionButtonClass)\n  var $heading = $headerWrapper.querySelector('.' + this.sectionHeadingClass)\n  var $summary = $headerWrapper.querySelector('.' + this.sectionSummaryClass)\n\n  // Copy existing span element to an actual button element, for improved accessibility.\n  var $button = document.createElement('button')\n  $button.setAttribute('type', 'button')\n  $button.setAttribute('id', this.moduleId + '-heading-' + (index + 1))\n  $button.setAttribute(\n    'aria-controls',\n    this.moduleId + '-content-' + (index + 1)\n  )\n\n  // Copy all attributes (https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes) from $span to $button\n  for (var i = 0; i < $span.attributes.length; i++) {\n    var attr = $span.attributes.item(i)\n    $button.setAttribute(attr.nodeName, attr.nodeValue)\n  }\n\n  $button.addEventListener('focusin', function (e) {\n    if (!$headerWrapper.classList.contains($module.sectionHeaderFocusedClass)) {\n      $headerWrapper.className += ' ' + $module.sectionHeaderFocusedClass\n    }\n  })\n\n  $button.addEventListener('blur', function (e) {\n    $headerWrapper.classList.remove($module.sectionHeaderFocusedClass)\n  })\n\n  if (typeof $summary !== 'undefined' && $summary !== null) {\n    $button.setAttribute(\n      'aria-describedby',\n      this.moduleId + '-summary-' + (index + 1)\n    )\n  }\n\n  // $span could contain HTML elements (see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content)\n  $button.innerHTML = $span.innerHTML\n\n  $heading.removeChild($span)\n  $heading.appendChild($button)\n\n  // Add \"+/-\" icon\n  var icon = document.createElement('span')\n  icon.className = this.iconClass\n  icon.setAttribute('aria-hidden', 'true')\n\n  $heading.appendChild(icon)\n}\n\n/**\n * When section toggled, set and store state\n *\n * @param {object} $section - The section to toggle\n */\nIdskAccordion.prototype.onSectionToggle = function ($section) {\n  var expanded = this.isExpanded($section)\n  this.setExpanded(!expanded, $section)\n\n  // Store the state in sessionStorage when a change is triggered\n  this.storeState($section)\n}\n\n/**\n * When Open/Close All toggled, set and store state\n */\nIdskAccordion.prototype.onOpenOrCloseAllToggle = function () {\n  var $module = this\n  var $sections = this.$sections\n\n  var nowExpanded = !this.checkIfAllSectionsOpen()\n\n  $sections.forEach(function ($section) {\n    $module.setExpanded(nowExpanded, $section)\n    // Store the state in sessionStorage when a change is triggered\n    $module.storeState($section)\n  })\n\n  $module.updateOpenAllButton(nowExpanded)\n}\n\n/**\n * Set section attributes when opened/closed\n *\n * @param {boolean} expanded - Whether the section is expanded or not\n * @param {object} $section - The section to toggle\n */\nIdskAccordion.prototype.setExpanded = function (expanded, $section) {\n  var $button = $section.querySelector('.' + this.sectionButtonClass)\n  $button.setAttribute('aria-expanded', expanded)\n\n  if (expanded) {\n    $section.classList.add(this.sectionExpandedClass)\n  } else {\n    $section.classList.remove(this.sectionExpandedClass)\n  }\n\n  // See if \"Open all\" button text should be updated\n  var areAllSectionsOpen = this.checkIfAllSectionsOpen()\n  this.updateOpenAllButton(areAllSectionsOpen)\n}\n\n/**\n * Get state of section\n *\n * @param {object} $section - The section to check\n * @returns {boolean} Whether the section is expanded or not\n */\nIdskAccordion.prototype.isExpanded = function ($section) {\n  return $section.classList.contains(this.sectionExpandedClass)\n}\n\n/**\n * Check if all sections are open\n *\n * @returns {boolean} Whether all sections are open or not\n */\nIdskAccordion.prototype.checkIfAllSectionsOpen = function () {\n  // Get a count of all the Accordion sections\n  var sectionsCount = this.$sections.length\n  // Get a count of all Accordion sections that are expanded\n  var expandedSectionCount = this.$module.querySelectorAll(\n    '.' + this.sectionExpandedClass\n  ).length\n  var areAllSectionsOpen = sectionsCount === expandedSectionCount\n\n  return areAllSectionsOpen\n}\n\n/**\n * Update \"Open all\" button\n *\n * @param {boolean} expanded - Whether the sections are expanded or not\n */\nIdskAccordion.prototype.updateOpenAllButton = function (expanded) {\n  var newButtonText = expanded ? this.closeTitle : this.openTitle\n  newButtonText +=\n    '<span class=\"govuk-visually-hidden section-span\"> ' +\n    this.sectionTitle +\n    '</span>'\n  this.$openAllButton.setAttribute('aria-expanded', expanded)\n  this.$openAllButton.innerHTML = newButtonText\n}\n\nvar helper = {\n  /**\n   * Check for `window.sessionStorage`, and that it actually works.\n   *\n   * @returns {boolean} True if session storage is available\n   */\n  checkForSessionStorage: function () {\n    var testString = 'this is the test string'\n    var result\n    try {\n      window.sessionStorage.setItem(testString, testString)\n      result =\n        window.sessionStorage.getItem(testString) === testString.toString()\n      window.sessionStorage.removeItem(testString)\n      return result\n    } catch (exception) {\n      if (\n        typeof console === 'undefined' ||\n        typeof console.log === 'undefined'\n      ) {\n        console.log('Notice: sessionStorage not available.')\n      }\n      return false\n    }\n  }\n}\n\n/**\n * Set the state of the accordions in sessionStorage\n *\n * @param {object} $section - section DOM element\n */\nIdskAccordion.prototype.storeState = function ($section) {\n  if (this.browserSupportsSessionStorage) {\n    // We need a unique way of identifying each content in the accordion. Since\n    // an `#id` should be unique and an `id` is required for `aria-` attributes\n    // `id` can be safely used.\n    var $button = $section.querySelector('.' + this.sectionButtonClass)\n\n    if ($button) {\n      var contentId = $button.getAttribute('aria-controls')\n      var contentState = $button.getAttribute('aria-expanded')\n\n      if (\n        typeof contentId === 'undefined' &&\n        (typeof console === 'undefined' || typeof console.log === 'undefined')\n      ) {\n        console.error(\n          new Error('No aria controls present in accordion section heading.')\n        )\n      }\n\n      if (\n        typeof contentState === 'undefined' &&\n        (typeof console === 'undefined' || typeof console.log === 'undefined')\n      ) {\n        console.error(\n          new Error('No aria expanded present in accordion section heading.')\n        )\n      }\n\n      // Only set the state when both `contentId` and `contentState` are taken from the DOM.\n      if (contentId && contentState) {\n        window.sessionStorage.setItem(contentId, contentState)\n      }\n    }\n  }\n}\n\n/**\n * Read the state of the accordions from sessionStorage\n *\n * @param {object} $section - section DOM element\n */\nIdskAccordion.prototype.setInitialState = function ($section) {\n  if (this.browserSupportsSessionStorage) {\n    var $button = $section.querySelector('.' + this.sectionButtonClass)\n\n    if ($button) {\n      var contentId = $button.getAttribute('aria-controls')\n      var contentState = contentId\n        ? window.sessionStorage.getItem(contentId)\n        : null\n\n      if (contentState !== null) {\n        this.setExpanded(contentState === 'true', $section)\n      }\n    }\n  }\n}\n\nexport default IdskAccordion\n"],"names":[],"mappings":"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"}